import{S as e,i as t,s as n,a as o,b as s,c as l,d as r,n as i,e as c,f as a,g as d,h as u,m as v,l as p,t as f,j as m,k as g,o as h,p as w,q as b,r as y,u as k,v as $,w as x,x as z,y as D,z as j,A as S,B as A}from"./vendor.js";function C(e){let t,n;return{c(){t=o("svg"),n=o("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"stroke-width","2"),s(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),s(t,"width","100%"),s(t,"height","100%"),s(t,"viewBox","0 0 24 24"),s(t,"fill","none"),s(t,"stroke","currentColor"),s(t,"xmlns","http://www.w3.org/2000/svg")},m(e,o){l(e,t,o),r(t,n)},p:i,i:i,o:i,d(e){e&&c(t)}}}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class E extends e{constructor(e){super(),t(this,e,null,C,n,{})}}function I(e){let t,n,o,h,w,b,y,k,$;return h=new E({}),{c(){t=a("div"),n=a("div"),o=a("div"),d(h.$$.fragment),w=u(),b=a("div"),b.textContent="Bu Cihaza Yükle",s(o,"class","icon svelte-usjklv"),s(b,"class","text svelte-usjklv"),s(n,"class","btn svelte-usjklv"),s(t,"class","wrapper svelte-usjklv")},m(s,i){l(s,t,i),r(t,n),r(n,o),v(h,o,null),r(n,w),r(n,b),y=!0,k||($=p(n,"click",e[2]),k=!0)},p:i,i(e){y||(f(h.$$.fragment,e),y=!0)},o(e){m(h.$$.fragment,e),y=!1},d(e){e&&c(t),g(h),k=!1,$()}}}function B(e){let t,n,o,s,r=e[0]&&I(e);return{c(){r&&r.c(),t=h()},m(i,c){r&&r.m(i,c),l(i,t,c),n=!0,o||(s=[p(window,"beforeinstallprompt",w(e[1])),p(window,"appinstalled",w(e[3]))],o=!0)},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&f(r,1)):(r=I(e),r.c(),f(r,1),r.m(t.parentNode,t)):r&&(b(),m(r,1,1,(()=>{r=null})),y())},i(e){n||(f(r),n=!0)},o(e){m(r),n=!1},d(e){r&&r.d(e),e&&c(t),o=!1,k(s)}}}function O(e,t,n){let o,s=!1;return[s,e=>{o=e,n(0,s=!0)},()=>{n(0,s=!1),o.prompt(),o.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),o=null})).catch(console.error)},()=>{o=null,console.log("PWA was installed")}]}class M extends e{constructor(e){super(),t(this,e,O,B,n,{})}}function N(e,t,n){const o=e.slice();return o[15]=t[n],o}function T(e){let t,n,o,i;return{c(){t=a("button"),n=$("GET VIDEO DEVICES"),s(t,"type","button"),t.disabled=e[4],s(t,"class","svelte-734zt")},m(s,c){l(s,t,c),r(t,n),o||(i=p(t,"click",e[8]),o=!0)},p(e,n){16&n&&(t.disabled=e[4])},d(e){e&&c(t),o=!1,i()}}}function L(e){let t,n,o,i;return{c(){t=a("button"),n=$("STOP"),s(t,"type","button"),t.disabled=e[4],s(t,"class","svelte-734zt")},m(s,c){l(s,t,c),r(t,n),o||(i=p(t,"click",e[7]),o=!0)},p(e,n){16&n&&(t.disabled=e[4])},d(e){e&&c(t),o=!1,i()}}}function P(e){let t,n,o,r=Object.keys(e[5]),i=[];for(let s=0;s<r.length;s+=1)i[s]=U(N(e,r,s));return{c(){t=a("p"),t.textContent="Supported Constraints",n=u(),o=a("ul");for(let e=0;e<i.length;e+=1)i[e].c();s(t,"class","svelte-734zt")},m(e,s){l(e,t,s),l(e,n,s),l(e,o,s);for(let t=0;t<i.length;t+=1)i[t].m(o,null)},p(e,t){if(32&t){let n;for(r=Object.keys(e[5]),n=0;n<r.length;n+=1){const s=N(e,r,n);i[n]?i[n].p(s,t):(i[n]=U(s),i[n].c(),i[n].m(o,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}},d(e){e&&c(t),e&&c(n),e&&c(o),z(i,e)}}}function U(e){let t,n,o=e[15]+"";return{c(){t=a("li"),n=$(o)},m(e,o){l(e,t,o),r(t,n)},p(e,t){32&t&&o!==(o=e[15]+"")&&x(n,o)},d(e){e&&c(t)}}}function _(e){var t;let n,o,d,v,f,m,g,h,w,b,y,z,D,j,S,A,C,E,I,B,O=(null==(t=e[2][e[3]])?void 0:t.deviceId)+"";function M(e,t){return e[1]?L:T}let N=M(e),U=N(e),_=e[5]&&P(e);return{c(){n=a("div"),o=a("div"),d=a("video"),v=u(),f=a("div"),U.c(),m=u(),g=a("button"),h=$("NEXT CAMERA »"),b=u(),y=a("p"),z=$("Selected Device: "),D=$(e[3]),j=u(),S=a("p"),A=$("Selected DeviceId: "),C=$(O),E=u(),_&&_.c(),d.autoplay=!0,d.playsInline=!0,s(d,"class","svelte-734zt"),s(o,"class","video-wrapper"),s(g,"type","button"),g.disabled=w=e[4]||!e[1]||e[2].length<2,s(g,"class","svelte-734zt"),s(f,"class","buttons svelte-734zt"),s(y,"class","svelte-734zt"),s(S,"class","svelte-734zt"),s(n,"class","wrapper svelte-734zt")},m(t,s){l(t,n,s),r(n,o),r(o,d),e[10](d),r(n,v),r(n,f),U.m(f,null),r(f,m),r(f,g),r(g,h),r(n,b),r(n,y),r(y,z),r(y,D),r(n,j),r(n,S),r(S,A),r(S,C),r(n,E),_&&_.m(n,null),I||(B=[p(d,"loadedmetadata",e[9]),p(g,"click",e[6])],I=!0)},p(e,[t]){var o;N===(N=M(e))&&U?U.p(e,t):(U.d(1),U=N(e),U&&(U.c(),U.m(f,m))),22&t&&w!==(w=e[4]||!e[1]||e[2].length<2)&&(g.disabled=w),8&t&&x(D,e[3]),12&t&&O!==(O=(null==(o=e[2][e[3]])?void 0:o.deviceId)+"")&&x(C,O),e[5]?_?_.p(e,t):(_=P(e),_.c(),_.m(n,null)):_&&(_.d(1),_=null)},i:i,o:i,d(t){t&&c(n),e[10](null),U.d(),_&&_.d(),I=!1,k(B)}}}function V(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(s,l){function r(e){try{c(o.next(e))}catch(t){l(t)}}function i(e){try{c(o.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((o=o.apply(e,t||[])).next())}))};let s,l,r,i=[],c=!0;let a;D((()=>{console.log(S.browserDetails.browser," : ",S.browserDetails.version),n(5,a=navigator.mediaDevices.getSupportedConstraints()),n(4,c=!1)}));return[s,l,i,r,c,a,()=>o(void 0,void 0,void 0,(function*(){var e;n(4,c=!0),n(3,r=(r+1)%i.length);let t={audio:!1,video:{deviceId:{exact:null===(e=i[r])||void 0===e?void 0:e.deviceId}}};l.getTracks().forEach((e=>{console.log(e),"live"==e.readyState&&"video"===e.kind&&(e.stop(),e.applyConstraints(t))})),n(0,s.srcObject=null,s),n(1,l=null),n(1,l=yield navigator.mediaDevices.getUserMedia(t)),console.log(l),n(0,s.srcObject=l,s),n(4,c=!1)})),()=>o(void 0,void 0,void 0,(function*(){n(4,c=!0),n(3,r=j({ua:navigator.userAgent})?1:0),n(2,i=[]),l.getTracks().forEach((e=>{console.log(e),"live"==e.readyState&&"video"===e.kind&&e.stop()})),n(0,s.srcObject=null,s),n(1,l=null),n(4,c=!1)})),()=>o(void 0,void 0,void 0,(function*(){n(4,c=!0),n(3,r=j({ua:navigator.userAgent})?1:0);let e,t=yield navigator.mediaDevices.enumerateDevices();console.log(t),n(2,i=t.filter((e=>"videoinput"===(null==e?void 0:e.kind)))),console.log(i),e=j({ua:navigator.userAgent})?{audio:!1,video:{facingMode:{exact:"environment"}}}:{audio:!1,video:!0},n(1,l=yield navigator.mediaDevices.getUserMedia(e)),console.log(l),n(0,s.srcObject=l,s),n(4,c=!1)})),()=>s.play(),function(e){A[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class q extends e{constructor(e){super(),t(this,e,V,_,n,{})}}function H(e){let t,n,o,i,p,h,w,b,y;return t=new M({}),b=new q({}),{c(){d(t.$$.fragment),n=u(),o=a("main"),i=a("p"),p=$("BarcodeApi: "),h=$(e[0]),w=u(),d(b.$$.fragment),s(i,"class","svelte-szc1xz"),s(o,"class","svelte-szc1xz")},m(e,s){v(t,e,s),l(e,n,s),l(e,o,s),r(o,i),r(i,p),r(i,h),r(o,w),v(b,o,null),y=!0},p(e,[t]){(!y||1&t)&&x(h,e[0])},i(e){y||(f(t.$$.fragment,e),f(b.$$.fragment,e),y=!0)},o(e){m(t.$$.fragment,e),m(b.$$.fragment,e),y=!1},d(e){g(t,e),e&&c(n),e&&c(o),g(b)}}}function G(e,t,n){let o=!1;return D((()=>{"BarcodeDetector"in window?(n(0,o=!0),console.log("Barcode Detector supported!"),new BarcodeDetector({formats:["code_39","codabar","ean_13"]})):(n(0,o=!1),console.log("Barcode Detector is not supported by this browser."))})),[o]}new class extends e{constructor(e){super(),t(this,e,G,H,n,{})}}({target:document.getElementById("app")});
