import{S as e,i as t,s as n,a as o,b as s,c as l,d as r,n as c,e as i,f as a,g as d,h as u,m as p,l as v,t as m,j as f,k as g,o as h,p as w,q as b,r as y,u as $,v as k,w as E,x as D,y as x,z,A as C,B as S,C as j}from"./vendor.js";function B(e){let t,n;return{c(){t=o("svg"),n=o("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"stroke-width","2"),s(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),s(t,"width","100%"),s(t,"height","100%"),s(t,"viewBox","0 0 24 24"),s(t,"fill","none"),s(t,"stroke","currentColor"),s(t,"xmlns","http://www.w3.org/2000/svg")},m(e,o){l(e,t,o),r(t,n)},p:c,i:c,o:c,d(e){e&&i(t)}}}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class A extends e{constructor(e){super(),t(this,e,null,B,n,{})}}function I(e){let t,n,o,h,w,b,y,$,k;return h=new A({}),{c(){t=a("div"),n=a("div"),o=a("div"),d(h.$$.fragment),w=u(),b=a("div"),b.textContent="Bu Cihaza Yükle",s(o,"class","icon svelte-usjklv"),s(b,"class","text svelte-usjklv"),s(n,"class","btn svelte-usjklv"),s(t,"class","wrapper svelte-usjklv")},m(s,c){l(s,t,c),r(t,n),r(n,o),p(h,o,null),r(n,w),r(n,b),y=!0,$||(k=v(n,"click",e[2]),$=!0)},p:c,i(e){y||(m(h.$$.fragment,e),y=!0)},o(e){f(h.$$.fragment,e),y=!1},d(e){e&&i(t),g(h),$=!1,k()}}}function O(e){let t,n,o,s,r=e[0]&&I(e);return{c(){r&&r.c(),t=h()},m(c,i){r&&r.m(c,i),l(c,t,i),n=!0,o||(s=[v(window,"beforeinstallprompt",w(e[1])),v(window,"appinstalled",w(e[3]))],o=!0)},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&m(r,1)):(r=I(e),r.c(),m(r,1),r.m(t.parentNode,t)):r&&(b(),f(r,1,1,(()=>{r=null})),y())},i(e){n||(m(r),n=!0)},o(e){f(r),n=!1},d(e){r&&r.d(e),e&&i(t),o=!1,$(s)}}}function T(e,t,n){let o,s=!1;return[s,e=>{o=e,n(0,s=!0)},()=>{n(0,s=!1),o.prompt(),o.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),o=null})).catch(console.error)},()=>{o=null,console.log("PWA was installed")}]}class q extends e{constructor(e){super(),t(this,e,T,O,n,{})}}function N(e){let t,n,o,c,d,p,m,f,g,h,w=(e[1]||""!==e[1])&&M(e);return{c(){t=a("div"),n=a("p"),o=k(e[2]),c=u(),d=a("button"),d.textContent="DETECT BARCODES",p=u(),w&&w.c(),m=u(),f=a("textarea"),s(t,"class","wrapper svelte-crqs19"),s(d,"type","button"),s(d,"class","svelte-crqs19"),s(f,"name","barcodes"),s(f,"id","barcodes"),s(f,"cols","30"),s(f,"rows","10"),s(f,"class","svelte-crqs19")},m(s,i){l(s,t,i),r(t,n),r(n,o),l(s,c,i),l(s,d,i),l(s,p,i),w&&w.m(s,i),l(s,m,i),l(s,f,i),E(f,e[1]),g||(h=[v(d,"click",e[3]),v(f,"input",e[5])],g=!0)},p(e,t){4&t&&D(o,e[2]),e[1]||""!==e[1]?w?w.p(e,t):(w=M(e),w.c(),w.m(m.parentNode,m)):w&&(w.d(1),w=null),2&t&&E(f,e[1])},d(e){e&&i(t),e&&i(c),e&&i(d),e&&i(p),w&&w.d(e),e&&i(m),e&&i(f),g=!1,$(h)}}}function M(e){let t,n,o;return{c(){t=a("button"),t.textContent="RESET READS",s(t,"type","button"),s(t,"class","svelte-crqs19")},m(s,r){l(s,t,r),n||(o=v(t,"click",e[4]),n=!0)},p:c,d(e){e&&i(t),n=!1,o()}}}function _(e){let t,n=e[0]&&N(e);return{c(){n&&n.c(),t=h()},m(e,o){n&&n.m(e,o),l(e,t,o)},p(e,[o]){e[0]?n?n.p(e,o):(n=N(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:c,o:c,d(e){n&&n.d(e),e&&i(t)}}}function V(e,t,n){let o,s,{videoElement:l}=t,r="";x((()=>{"BarcodeDetector"in window?(console.log("Barcode Detector supported!"),o=new BarcodeDetector({formats:["data_matrix","aztec","qr_code"]})):(n(2,r="Barcode Detector is not supported by this browser."),console.log(r))}));return e.$$set=e=>{"videoElement"in e&&n(0,l=e.videoElement)},[l,s,r,()=>{l&&o&&o.detect(l).then((e=>{n(1,s+=e.map((e=>e.rawValue)).join("\n")+"\n"),e.forEach((e=>{console.log(e.rawValue)}))})).catch((e=>{console.log(e)}))},()=>n(1,s=""),function(){s=this.value,n(1,s)}]}class L extends e{constructor(e){super(),t(this,e,V,_,n,{videoElement:0})}}function P(e,t,n){const o=e.slice();return o[16]=t[n],o}function R(e){let t,n,o,c;return{c(){t=a("button"),n=k("GET VIDEO DEVICES"),s(t,"type","button"),t.disabled=e[4],s(t,"class","svelte-734zt")},m(s,i){l(s,t,i),r(t,n),o||(c=v(t,"click",e[8]),o=!0)},p(e,n){16&n&&(t.disabled=e[4])},d(e){e&&i(t),o=!1,c()}}}function U(e){let t,n,o,c;return{c(){t=a("button"),n=k("STOP"),s(t,"type","button"),t.disabled=e[4],s(t,"class","svelte-734zt")},m(s,i){l(s,t,i),r(t,n),o||(c=v(t,"click",e[7]),o=!0)},p(e,n){16&n&&(t.disabled=e[4])},d(e){e&&i(t),o=!1,c()}}}function H(e){let t,n,o,r=Object.keys(e[5]),c=[];for(let s=0;s<r.length;s+=1)c[s]=G(P(e,r,s));return{c(){t=a("p"),t.textContent="Supported Constraints",n=u(),o=a("ul");for(let e=0;e<c.length;e+=1)c[e].c();s(t,"class","svelte-734zt")},m(e,s){l(e,t,s),l(e,n,s),l(e,o,s);for(let t=0;t<c.length;t+=1)c[t].m(o,null)},p(e,t){if(32&t){let n;for(r=Object.keys(e[5]),n=0;n<r.length;n+=1){const s=P(e,r,n);c[n]?c[n].p(s,t):(c[n]=G(s),c[n].c(),c[n].m(o,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=r.length}},d(e){e&&i(t),e&&i(n),e&&i(o),z(c,e)}}}function G(e){let t,n,o=e[16]+"";return{c(){t=a("li"),n=k(o)},m(e,o){l(e,t,o),r(t,n)},p(e,t){32&t&&o!==(o=e[16]+"")&&D(n,o)},d(e){e&&i(t)}}}function K(e){var t;let n,o,c,h,w,b,y,E,x,z,C,S,j,B,A,I,O,T,q,N,M,_,V,P=(null==(t=e[2][e[3]])?void 0:t.deviceId)+"";function G(e,t){return e[1]?U:R}let K=G(e),W=K(e);q=new L({props:{videoElement:e[0]}});let X=e[5]&&H(e);return{c(){n=a("div"),o=a("div"),c=a("video"),h=u(),w=a("div"),W.c(),b=u(),y=a("button"),E=k("NEXT CAMERA »"),z=u(),C=a("p"),S=k("Selected Device: "),j=k(e[3]),B=u(),A=a("p"),I=k("Selected DeviceId: "),O=k(P),T=u(),d(q.$$.fragment),N=u(),X&&X.c(),c.autoplay=!0,c.playsInline=!0,s(c,"class","svelte-734zt"),s(o,"class","video-wrapper"),s(y,"type","button"),y.disabled=x=e[4]||!e[1]||e[2].length<2,s(y,"class","svelte-734zt"),s(w,"class","buttons svelte-734zt"),s(C,"class","svelte-734zt"),s(A,"class","svelte-734zt"),s(n,"class","wrapper svelte-734zt")},m(t,s){l(t,n,s),r(n,o),r(o,c),e[10](c),r(n,h),r(n,w),W.m(w,null),r(w,b),r(w,y),r(y,E),r(n,z),r(n,C),r(C,S),r(C,j),r(n,B),r(n,A),r(A,I),r(A,O),r(n,T),p(q,n,null),r(n,N),X&&X.m(n,null),M=!0,_||(V=[v(c,"loadedmetadata",e[9]),v(y,"click",e[6])],_=!0)},p(e,[t]){var o;K===(K=G(e))&&W?W.p(e,t):(W.d(1),W=K(e),W&&(W.c(),W.m(w,b))),(!M||22&t&&x!==(x=e[4]||!e[1]||e[2].length<2))&&(y.disabled=x),(!M||8&t)&&D(j,e[3]),(!M||12&t)&&P!==(P=(null==(o=e[2][e[3]])?void 0:o.deviceId)+"")&&D(O,P);const s={};1&t&&(s.videoElement=e[0]),q.$set(s),e[5]?X?X.p(e,t):(X=H(e),X.c(),X.m(n,null)):X&&(X.d(1),X=null)},i(e){M||(m(q.$$.fragment,e),M=!0)},o(e){f(q.$$.fragment,e),M=!1},d(t){t&&i(n),e[10](null),W.d(),g(q),X&&X.d(),_=!1,$(V)}}}function W(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(s,l){function r(e){try{i(o.next(e))}catch(t){l(t)}}function c(e){try{i(o.throw(e))}catch(t){l(t)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}i((o=o.apply(e,t||[])).next())}))};let s,l,r,c=C({ua:navigator.userAgent}),i=[],a=!0;let d;x((()=>{console.log(S.browserDetails.browser," : ",S.browserDetails.version),n(5,d=navigator.mediaDevices.getSupportedConstraints()),n(4,a=!1)}));return[s,l,i,r,a,d,()=>o(void 0,void 0,void 0,(function*(){var e;n(4,a=!0),n(3,r=(r+1)%i.length);let t={audio:!1,video:{deviceId:{exact:null===(e=i[r])||void 0===e?void 0:e.deviceId}}};l.getTracks().forEach((e=>{console.log(e),"live"==e.readyState&&"video"===e.kind&&(e.stop(),e.applyConstraints(t))})),n(0,s.srcObject=null,s),n(1,l=null),n(1,l=yield navigator.mediaDevices.getUserMedia(t)),console.log(l),n(0,s.srcObject=l,s),n(4,a=!1)})),()=>o(void 0,void 0,void 0,(function*(){n(4,a=!0),n(3,r=c?1:0),n(2,i=[]),l.getTracks().forEach((e=>{console.log(e),"live"==e.readyState&&"video"===e.kind&&e.stop()})),n(0,s.srcObject=null,s),n(1,l=null),n(4,a=!1)})),()=>o(void 0,void 0,void 0,(function*(){n(4,a=!0),n(3,r=c?1:0);let e,t=yield navigator.mediaDevices.enumerateDevices();console.log(t),n(2,i=t.filter((e=>"videoinput"===(null==e?void 0:e.kind)))),console.log(i),e=c?{audio:!1,video:{facingMode:{exact:"environment"}}}:{audio:!1,video:!0},n(1,l=yield navigator.mediaDevices.getUserMedia(e)),console.log(l),n(0,s.srcObject=l,s),n(4,a=!1)})),()=>s.play(),function(e){j[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class X extends e{constructor(e){super(),t(this,e,W,K,n,{})}}function Y(e){let t,n,o,c,v,h,w,b,y;return t=new q({}),b=new X({}),{c(){d(t.$$.fragment),n=u(),o=a("main"),c=a("p"),v=k("BarcodeApi: "),h=k(e[0]),w=u(),d(b.$$.fragment),s(c,"class","svelte-szc1xz"),s(o,"class","svelte-szc1xz")},m(e,s){p(t,e,s),l(e,n,s),l(e,o,s),r(o,c),r(c,v),r(c,h),r(o,w),p(b,o,null),y=!0},p(e,[t]){(!y||1&t)&&D(h,e[0])},i(e){y||(m(t.$$.fragment,e),m(b.$$.fragment,e),y=!0)},o(e){f(t.$$.fragment,e),f(b.$$.fragment,e),y=!1},d(e){g(t,e),e&&i(n),e&&i(o),g(b)}}}function F(e,t,n){let o=!1;return x((()=>{"BarcodeDetector"in window?(n(0,o=!0),console.log("Barcode Detector supported!"),new BarcodeDetector({formats:["code_39","codabar","ean_13"]})):(n(0,o=!1),console.log("Barcode Detector is not supported by this browser."))})),[o]}new class extends e{constructor(e){super(),t(this,e,F,Y,n,{})}}({target:document.getElementById("app")});
