var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,l=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&i(e,n,t[n]);if(r)for(var n of r(t))s.call(t,n)&&i(e,n,t[n]);return e};import{w as a,S as c,i as u,s as d,e as p,a as v,b as m,l as g,n as f,d as h,c as y,f as b,r as w,g as $,h as k,j as x,m as C,t as L,k as A,o as S,p as E,q as P,u as U,v as O,x as j,y as D,z as N,A as z,B as I,C as K}from"./vendor.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const M={};firebase.initializeApp({apiKey:"AIzaSyD-pzp1xZtmduu3mjWD77pVgGBKhNF1n30",authDomain:"koopkit-c38c2.firebaseapp.com",projectId:"koopkit-c38c2",storageBucket:"koopkit-c38c2.appspot.com",messagingSenderId:"1065077530630",appId:"1:1065077530630:web:165285110dcd11c0446387",measurementId:"G-4TSBJTR9KW"});const T=firebase.auth(),_=new firebase.auth.GoogleAuthProvider,B=()=>(T.languageCode="tr",T.signInWithPopup(_)),R=()=>T.signOut(),q=Gun(),G=q.user().recall({sessionStorage:!0}),V=(e=>{const{subscribe:r,set:o,update:s}=a(e);return T.onAuthStateChanged((e=>{s((e=>{return r=l({},e),t(r,n({loading:!1}));var r})),e?(console.log("firebase sign in"),s((e=>l({},e)))):(console.log("firebase sign out"),s((e=>l({},e))))})),{subscribe:r,signIn:()=>B().catch(console.error),signOut:()=>R().catch(console.error)}})({auth:T,signIn:B,signOut:R,loading:!0}),H=(e=>{const{subscribe:t,set:n,update:r}=a(e);return G._.sea&&n({status:"signed-in",user:G}),q.on("auth",(()=>{console.log("on auth çalıştı"),n({status:"signed-in",user:G})})),{subscribe:t,login:(e,t)=>{n({status:"unknown",user:null}),((e,t)=>new Promise(((n,r)=>{var o;(null==(o=null==G?void 0:G._)?void 0:o.sea)&&n(!0),console.log("Trying login with pin:",t),G.auth(e,t,(r=>{r.err&&"Wrong user or password."===r.err?G.create(e,t,(r=>{r.err&&"User already created!"===r.err?n(!1):r.pub?(console.log("User Not Exists! Now created."),G.auth(e,t,(()=>n(!0)))):console.log("Unknown error while login!")})):"User is already being created or authenticated!"===r.err||(console.log("gun giriş başarılı. bilinen bir hata yok.",r),n(!0))}))})))(e,t).then((e=>!1===e&&n({status:"wrong-pin",user:null}))).catch(console.error)},logout:()=>(async()=>{G.leave(),setTimeout((()=>{void 0===G._.sea&&console.log("Logged Out")}),200)})().then((()=>n({status:"signed-out",user:null}))).catch(console.error)}})({status:"unknown",user:null});function W(e){let t,n,r;return{c(){t=p("input"),v(t,"type","text"),v(t,"placeholder","epub key"),v(t,"class","svelte-1pwy234")},m(o,s){m(o,t,s),n||(r=g(t,"input",e[8]),n=!0)},p:f,d(e){e&&h(t),n=!1,r()}}}function Z(e){let t,n,r,o,s,i,l,a,c,u,d,$,k,x,C,L,A,S,E,P,U=e[2]&&W(e);return{c(){t=p("div"),n=p("label"),n.textContent="Encrypt / Decrypt Text:",r=y(),o=p("textarea"),s=y(),i=p("div"),l=p("div"),a=p("label"),a.textContent="Decrypt an incoming message or send an encrypted one:",c=y(),u=p("input"),d=y(),U&&U.c(),$=y(),k=p("div"),x=p("input"),L=y(),A=p("input"),v(n,"for","enctext"),v(o,"id","enctext"),v(o,"rows","4"),o.value=e[0],v(o,"class","svelte-1pwy234"),v(a,"for","epubCheck"),v(u,"type","checkbox"),v(u,"name","epubCheck"),v(u,"id","epubCheck"),v(l,"class","check svelte-1pwy234"),v(i,"class","outMessage svelte-1pwy234"),v(x,"type","button"),x.disabled=C=""===e[0],x.value="Encrypt",v(x,"class","svelte-1pwy234"),v(A,"type","button"),A.disabled=S=""===e[0],A.value="Decrypt",v(A,"class","svelte-1pwy234"),v(t,"class","wrapper svelte-1pwy234")},m(p,v){m(p,t,v),b(t,n),b(t,r),b(t,o),b(t,s),b(t,i),b(i,l),b(l,a),b(l,c),b(l,u),b(i,d),U&&U.m(i,null),b(t,$),b(t,k),b(k,x),b(k,L),b(k,A),E||(P=[g(o,"input",e[3]),g(u,"click",e[7]),g(x,"click",e[4]),g(A,"click",e[5])],E=!0)},p(e,[t]){1&t&&(o.value=e[0]),e[2]?U?U.p(e,t):(U=W(e),U.c(),U.m(i,null)):U&&(U.d(1),U=null),1&t&&C!==(C=""===e[0])&&(x.disabled=C),1&t&&S!==(S=""===e[0])&&(A.disabled=S)},i:f,o:f,d(e){e&&h(t),U&&U.d(),E=!1,w(P)}}}function F(e,t,n){let r,o;$(e,H,(e=>n(6,o=e)));let s="",i="",l="",a=!1;return e.$$.update=()=>{64&e.$$.dirty&&(r=o.user._.sea)},[s,l,a,e=>{n(0,s=e.target.value),i=s},async e=>{if(console.log("pair",r),a){let e=await SEA.encrypt(s,await SEA.secret(l,r)),t=await SEA.sign(e,r);n(0,s=t)}else{let e=await SEA.encrypt(s,r),t=await SEA.sign(e,r);n(0,s=t)}},async e=>{if(a){let e=await SEA.verify(s,r.pub),t=await SEA.decrypt(e,await SEA.secret(l,r));n(0,s=t)}else{let e=await SEA.verify(s,r.pub),t=await SEA.decrypt(e,r);await SEA.work(t,r)===await SEA.work(i,r)&&n(0,s=t)}},o,e=>n(2,a=e.target.checked),e=>n(1,l=e.target.value)]}class J extends c{constructor(e){super(),u(this,e,F,Z,d,{})}}function Y(e){let t,n;return{c(){t=k("svg"),n=k("path"),v(n,"stroke-linecap","round"),v(n,"stroke-linejoin","round"),v(n,"stroke-width","2"),v(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),v(t,"width","100%"),v(t,"height","100%"),v(t,"viewBox","0 0 24 24"),v(t,"fill","none"),v(t,"stroke","currentColor"),v(t,"xmlns","http://www.w3.org/2000/svg")},m(e,r){m(e,t,r),b(t,n)},p:f,i:f,o:f,d(e){e&&h(t)}}}class Q extends c{constructor(e){super(),u(this,e,null,Y,d,{})}}function X(e){let t,n,r,o,s,i,l,a,c;return o=new Q({}),{c(){t=p("div"),n=p("div"),r=p("div"),x(o.$$.fragment),s=y(),i=p("div"),i.textContent="Bu Cihaza Yükle",v(r,"class","icon svelte-usjklv"),v(i,"class","text svelte-usjklv"),v(n,"class","btn svelte-usjklv"),v(t,"class","wrapper svelte-usjklv")},m(u,d){m(u,t,d),b(t,n),b(n,r),C(o,r,null),b(n,s),b(n,i),l=!0,a||(c=g(n,"click",e[2]),a=!0)},p:f,i(e){l||(L(o.$$.fragment,e),l=!0)},o(e){A(o.$$.fragment,e),l=!1},d(e){e&&h(t),S(o),a=!1,c()}}}function ee(e){let t,n,r,o,s=e[0]&&X(e);return{c(){s&&s.c(),t=E()},m(i,l){s&&s.m(i,l),m(i,t,l),n=!0,r||(o=[g(window,"beforeinstallprompt",P(e[1])),g(window,"appinstalled",P(e[3]))],r=!0)},p(e,[n]){e[0]?s?(s.p(e,n),1&n&&L(s,1)):(s=X(e),s.c(),L(s,1),s.m(t.parentNode,t)):s&&(U(),A(s,1,1,(()=>{s=null})),O())},i(e){n||(L(s),n=!0)},o(e){A(s),n=!1},d(e){s&&s.d(e),e&&h(t),r=!1,w(o)}}}function te(e,t,n){let r,o=!1;return[o,e=>{r=e,n(0,o=!0)},()=>{n(0,o=!1),r.prompt(),r.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),r=null})).catch(console.error)},()=>{r=null,console.log("PWA was installed")}]}class ne extends c{constructor(e){super(),u(this,e,te,ee,d,{})}}function re(e){let t,n,r,o,s,i;return{c(){t=k("svg"),n=k("g"),r=k("path"),o=k("path"),s=k("path"),i=k("path"),v(r,"fill","#4285F4"),v(r,"d","M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"),v(o,"fill","#34A853"),v(o,"d","M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"),v(s,"fill","#FBBC05"),v(s,"d","M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"),v(i,"fill","#EA4335"),v(i,"d","M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"),v(n,"transform","matrix(1, 0, 0, 1, 27.009001, -39.238998)"),v(t,"width","100%"),v(t,"height","100%"),v(t,"viewBox","0 0 24 24"),v(t,"fill","none"),v(t,"stroke","none"),v(t,"xmlns","http://www.w3.org/2000/svg")},m(e,l){m(e,t,l),b(t,n),b(n,r),b(n,o),b(n,s),b(n,i)},p:f,i:f,o:f,d(e){e&&h(t)}}}class oe extends c{constructor(e){super(),u(this,e,null,re,d,{})}}function se(e){let t;return{c(){t=p("p"),t.textContent="Hatalı pin! Tekrar Deneyin:",j(t,"color","crimson"),v(t,"class","svelte-1myyhr8")},m(e,n){m(e,t,n)},d(e){e&&h(t)}}}function ie(e){var t;let n,r,o,s,i,l,a,c,u,d,$,k,x,C,L,A,S,E="wrong-pin"===(null==(t=e[4])?void 0:t.status)&&se();return{c(){var t;n=p("div"),r=p("div"),o=p("div"),s=p("img"),l=y(),a=p("p"),a.textContent="Pin Kodunuz:",c=y(),E&&E.c(),u=y(),d=p("form"),$=p("input"),k=y(),x=p("button"),x.textContent="Giriş",C=y(),L=p("button"),L.textContent="Girdim say",D(s.src,i=null==(t=e[3])?void 0:t.photoURL)||v(s,"src",i),v(s,"alt","Profile Pic"),v(s,"class","svelte-1myyhr8"),v(o,"class","pp svelte-1myyhr8"),v(a,"class","svelte-1myyhr8"),v($,"type","password"),v($,"pattern","[0-9]*"),v($,"inputmode","numeric"),v($,"maxlength","4"),v($,"minlength","4"),v($,"placeholder","Pin"),v($,"title","Pin Kodu 4 haneli ve sadece rakamlardan oluşmalıdır"),$.required=!0,v(x,"type","submit"),v(x,"class","svelte-1myyhr8"),v(d,"class","svelte-1myyhr8"),v(L,"class","svelte-1myyhr8"),v(n,"class","wrapper svelte-1myyhr8")},m(t,i){m(t,n,i),b(n,r),b(r,o),b(o,s),b(r,l),b(r,a),b(r,c),E&&E.m(r,null),b(r,u),b(r,d),b(d,$),e[6]($),b(d,k),b(d,x),b(n,C),b(n,L),A||(S=[g($,"input",e[5]),g($,"focus",e[7]),g(d,"submit",P(e[8])),g(L,"click",e[9])],A=!0)},p(e,[t]){var n,o;8&t&&!D(s.src,i=null==(n=e[3])?void 0:n.photoURL)&&v(s,"src",i),"wrong-pin"===(null==(o=e[4])?void 0:o.status)?E||(E=se(),E.c(),E.m(r,u)):E&&(E.d(1),E=null)},i:f,o:f,d(t){t&&h(n),E&&E.d(),e[6](null),A=!1,w(S)}}}function le(e,t,n){let r,o,s;$(e,V,(e=>n(0,o=e))),$(e,H,(e=>n(4,s=e)));let i,l="";N((()=>i.focus()));return e.$$.update=()=>{var t;1&e.$$.dirty&&n(3,r=null==(t=null==o?void 0:o.auth)?void 0:t.currentUser)},[o,l,i,r,s,e=>{n(1,l=e.target.value.toString())},function(e){z[e?"unshift":"push"]((()=>{i=e,n(2,i)}))},()=>i.select(),()=>{var e;return H.login(null==(e=null==o?void 0:o.auth)?void 0:e.currentUser.uid,`${l}${l}`)},()=>{var e;return H.login(null==(e=null==o?void 0:o.auth)?void 0:e.currentUser.uid,"12341234")}]}class ae extends c{constructor(e){super(),u(this,e,le,ie,d,{})}}function ce(e){let t,n,r="signed-in"!==e[1].status&&pe();return{c(){r&&r.c(),t=E()},m(e,o){r&&r.m(e,o),m(e,t,o),n=!0},p(e,n){"signed-in"!==e[1].status?r?2&n&&L(r,1):(r=pe(),r.c(),L(r,1),r.m(t.parentNode,t)):r&&(U(),A(r,1,1,(()=>{r=null})),O())},i(e){n||(L(r),n=!0)},o(e){A(r),n=!1},d(e){r&&r.d(e),e&&h(t)}}}function ue(e){let t,n,r,o,s,i,l,a;return r=new oe({}),{c(){t=p("div"),n=p("div"),x(r.$$.fragment),o=y(),s=p("div"),s.textContent="Google hesabı ile giriş yap",v(n,"class","icon svelte-zvv0mb"),v(s,"class","text svelte-zvv0mb"),v(t,"class","btn svelte-zvv0mb")},m(e,c){m(e,t,c),b(t,n),C(r,n,null),b(t,o),b(t,s),i=!0,l||(a=g(t,"click",V.signIn),l=!0)},p:f,i(e){i||(L(r.$$.fragment,e),i=!0)},o(e){A(r.$$.fragment,e),i=!1},d(e){e&&h(t),S(r),l=!1,a()}}}function de(e){let t;return{c(){t=I("Yükleniyor...")},m(e,n){m(e,t,n)},p:f,i:f,o:f,d(e){e&&h(t)}}}function pe(e){let t,n;return t=new ae({}),{c(){x(t.$$.fragment)},m(e,r){C(t,e,r),n=!0},i(e){n||(L(t.$$.fragment,e),n=!0)},o(e){A(t.$$.fragment,e),n=!1},d(e){S(t,e)}}}function ve(e){let t,n,r,o;const s=[de,ue,ce],i=[];function l(e,t){var n,r,o,s,i;return(null==(n=e[0])?void 0:n.loading)?0:null===(null==(o=null==(r=e[0])?void 0:r.auth)?void 0:o.currentUser)?1:(null==(i=null==(s=e[0])?void 0:s.auth)?void 0:i.currentUser)?2:-1}return~(n=l(e))&&(r=i[n]=s[n](e)),{c(){t=p("div"),r&&r.c(),v(t,"class","wrapper svelte-zvv0mb")},m(e,r){m(e,t,r),~n&&i[n].m(t,null),o=!0},p(e,[o]){let a=n;n=l(e),n===a?~n&&i[n].p(e,o):(r&&(U(),A(i[a],1,1,(()=>{i[a]=null})),O()),~n?(r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),L(r,1),r.m(t,null)):r=null)},i(e){o||(L(r),o=!0)},o(e){A(r),o=!1},d(e){e&&h(t),~n&&i[n].d()}}}function me(e,t,n){let r,o;return $(e,V,(e=>n(0,r=e))),$(e,H,(e=>n(1,o=e))),[r,o]}class ge extends c{constructor(e){super(),u(this,e,me,ve,d,{})}}function fe(e){var t,n,r,o,s,i,l;let a,c,u,d,g,w,$,k,x,C,L,A,S,E,P,U,O,j,N,z,M,T,_,B,R,q,G,V,H,W,Z,F,J,Y,Q,X,ee,te,ne,re,oe,se,ie=(null==(t=e[0])?void 0:t.uid)+"",le=(null==(n=e[0])?void 0:n.displayName)+"",ae=(null==(r=e[0])?void 0:r.email)+"",ce=(null==(o=e[0])?void 0:o.emailVerified)+"",ue=(null==(s=e[0])?void 0:s.photoURL)+"",de=(null==(i=e[0])?void 0:i.isAnonymous)+"",pe=JSON.stringify(null==(l=e[0])?void 0:l.providerData)+"";return{c(){var t;a=p("section"),c=p("div"),u=p("img"),g=y(),w=p("h1"),w.textContent="Kullanıcı Profili",$=y(),k=p("div"),x=p("p"),C=p("b"),C.textContent="uid:",L=y(),A=I(ie),S=y(),E=p("p"),P=p("b"),P.textContent="displayName:",U=y(),O=I(le),j=y(),N=p("p"),z=p("b"),z.textContent="email:",M=y(),T=I(ae),_=y(),B=p("p"),R=p("b"),R.textContent="emailVerified:",q=y(),G=I(ce),V=y(),H=p("p"),W=p("b"),W.textContent="photoURL:",Z=y(),F=I(ue),J=y(),Y=p("p"),Q=p("b"),Q.textContent="isAnonymous:",X=y(),ee=I(de),te=y(),ne=p("p"),re=p("b"),re.textContent="providerData:",oe=y(),se=I(pe),D(u.src,d=null==(t=e[0])?void 0:t.photoURL)||v(u,"src",d),v(u,"alt","Profil Resmi"),v(u,"class","svelte-kbd67g"),v(c,"class","pp svelte-kbd67g"),v(x,"class","svelte-kbd67g"),v(E,"class","svelte-kbd67g"),v(N,"class","svelte-kbd67g"),v(B,"class","svelte-kbd67g"),v(H,"class","svelte-kbd67g"),v(Y,"class","svelte-kbd67g"),v(ne,"class","svelte-kbd67g"),v(a,"class","svelte-kbd67g")},m(e,t){m(e,a,t),b(a,c),b(c,u),b(a,g),b(a,w),b(a,$),b(a,k),b(k,x),b(x,C),b(x,L),b(x,A),b(k,S),b(k,E),b(E,P),b(E,U),b(E,O),b(k,j),b(k,N),b(N,z),b(N,M),b(N,T),b(k,_),b(k,B),b(B,R),b(B,q),b(B,G),b(k,V),b(k,H),b(H,W),b(H,Z),b(H,F),b(k,J),b(k,Y),b(Y,Q),b(Y,X),b(Y,ee),b(k,te),b(k,ne),b(ne,re),b(ne,oe),b(ne,se)},p(e,[t]){var n,r,o,s,i,l,a,c;1&t&&!D(u.src,d=null==(n=e[0])?void 0:n.photoURL)&&v(u,"src",d),1&t&&ie!==(ie=(null==(r=e[0])?void 0:r.uid)+"")&&K(A,ie),1&t&&le!==(le=(null==(o=e[0])?void 0:o.displayName)+"")&&K(O,le),1&t&&ae!==(ae=(null==(s=e[0])?void 0:s.email)+"")&&K(T,ae),1&t&&ce!==(ce=(null==(i=e[0])?void 0:i.emailVerified)+"")&&K(G,ce),1&t&&ue!==(ue=(null==(l=e[0])?void 0:l.photoURL)+"")&&K(F,ue),1&t&&de!==(de=(null==(a=e[0])?void 0:a.isAnonymous)+"")&&K(ee,de),1&t&&pe!==(pe=JSON.stringify(null==(c=e[0])?void 0:c.providerData)+"")&&K(se,pe)},i:f,o:f,d(e){e&&h(a)}}}function he(e,t,n){let r,o;var s;return $(e,V,(e=>n(2,o=e))),e.$$.update=()=>{6&e.$$.dirty&&n(0,r=null===n(1,s=null==o?void 0:o.auth)||void 0===s?void 0:s.currentUser)},[r,s,o]}class ye extends c{constructor(e){super(),u(this,e,he,fe,d,{})}}function be(e){let t,n,r,o,s,i,l;return{c(){t=p("div"),n=p("div"),r=p("video"),o=y(),s=p("button"),s.textContent="Camera Request",r.autoplay=!0,r.playsInline=!0,v(r,"class","svelte-uv8h7"),v(n,"class","video_wrapper svelte-uv8h7"),v(t,"class","wrapper svelte-uv8h7")},m(a,c){m(a,t,c),b(t,n),b(n,r),e[2](r),b(t,o),b(t,s),i||(l=g(s,"click",e[1]),i=!0)},p:f,i:f,o:f,d(n){n&&h(t),e[2](null),i=!1,l()}}}function we(e,t){console.error(e);document.querySelector("#errorMsg").innerHTML+=`<p>${e}</p>`,void 0!==t&&console.error(t)}function $e(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{a(r.next(e))}catch(t){s(t)}}function l(e){try{a(r.throw(e))}catch(t){s(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}a((r=r.apply(e,t||[])).next())}))};let o;const s={audio:!1,video:!0};return[o,function(e){return r(this,void 0,void 0,(function*(){try{if(navigator){const t=yield navigator.mediaDevices.enumerateDevices();console.log("aaaaaaa",t);!function(e){const t=document.querySelector("video"),n=e.getVideoTracks();console.log("Got stream with constraints:",s),console.log(`Using video device: ${n[0].label}`),window.stream=e,t.srcObject=e}(yield navigator.mediaDevices.getUserMedia(s)),e.target.disabled=!0}}catch(t){!function(e){if("OverconstrainedError"===e.name){const e=s.video;we(`The resolution ${e.width.exact}x${e.height.exact} px is not supported by your device.`)}else"NotAllowedError"===e.name&&we("Permissions have not been granted to use your camera and microphone, you need to allow the page access to your devices in order for the demo to work.");we(`getUserMedia error: ${e.name}`,e)}(t)}}))},function(e){z[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class ke extends c{constructor(e){super(),u(this,e,$e,be,d,{})}}function xe(e){let t,n;return t=new ge({}),{c(){x(t.$$.fragment)},m(e,r){C(t,e,r),n=!0},p:f,i(e){n||(L(t.$$.fragment,e),n=!0)},o(e){A(t.$$.fragment,e),n=!1},d(e){S(t,e)}}}function Ce(e){let t,n,r,o,s,i,l,a,c,u;return t=new J({}),s=new ye({}),{c(){x(t.$$.fragment),n=y(),r=p("input"),o=y(),x(s.$$.fragment),i=y(),l=p("input"),v(r,"type","button"),r.value="Test Push Notification",v(r,"class","svelte-g5dfzm"),v(l,"type","button"),l.value="Çıkış",v(l,"class","svelte-g5dfzm")},m(d,p){C(t,d,p),m(d,n,p),m(d,r,p),m(d,o,p),C(s,d,p),m(d,i,p),m(d,l,p),a=!0,c||(u=[g(r,"click",e[1]),g(l,"click",e[2])],c=!0)},p:f,i(e){a||(L(t.$$.fragment,e),L(s.$$.fragment,e),a=!0)},o(e){A(t.$$.fragment,e),A(s.$$.fragment,e),a=!1},d(e){S(t,e),e&&h(n),e&&h(r),e&&h(o),S(s,e),e&&h(i),e&&h(l),c=!1,w(u)}}}function Le(e){let t,n,r,o,s,i,l,a,c,u,d,g,f,w;t=new ne({}),o=new ke({});const $=[Ce,xe],k=[];function E(e,t){return e[0]?0:1}return g=E(e),f=k[g]=$[g](e),{c(){x(t.$$.fragment),n=y(),r=p("main"),x(o.$$.fragment),s=y(),i=p("div"),i.innerHTML='<img src="../icon/icon192.png" alt="KoopKit Logo"/>',l=y(),a=p("h1"),a.textContent="KoopKit",c=y(),u=p("p"),u.textContent="Kooperatif Destek Kiti",d=y(),f.c(),v(i,"class","logo svelte-g5dfzm"),v(a,"class","svelte-g5dfzm"),v(u,"class","svelte-g5dfzm"),v(r,"class","svelte-g5dfzm")},m(e,p){C(t,e,p),m(e,n,p),m(e,r,p),C(o,r,null),b(r,s),b(r,i),b(r,l),b(r,a),b(r,c),b(r,u),b(r,d),k[g].m(r,null),w=!0},p(e,[t]){let n=g;g=E(e),g===n?k[g].p(e,t):(U(),A(k[n],1,1,(()=>{k[n]=null})),O(),f=k[g],f?f.p(e,t):(f=k[g]=$[g](e),f.c()),L(f,1),f.m(r,null))},i(e){w||(L(t.$$.fragment,e),L(o.$$.fragment,e),L(f),w=!0)},o(e){A(t.$$.fragment,e),A(o.$$.fragment,e),A(f),w=!1},d(e){S(t,e),e&&h(n),e&&h(r),S(o),k[g].d()}}}function Ae(e,t,n){let r,o,s;var i;$(e,H,(e=>n(4,o=e))),$(e,V,(e=>n(5,s=e)));const l={body:"Burası bildirim gövdesi!",icon:"icon/icon192.png",badge:"icon/badge.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1}},a=()=>{return(e=()=>import("./notification.js"),t=[],t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in M)return;M[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e())):e()).then((({notification:e})=>e("Hey Selamlar!",l)));var e,t};return e.$$.update=()=>{48&e.$$.dirty&&(console.log(s),console.log(o)),56&e.$$.dirty&&n(0,r=(null===n(3,i=null==s?void 0:s.auth)||void 0===i?void 0:i.currentUser)&&"signed-in"===o.status)},[r,()=>{"granted"==Notification.permission?a():Notification.requestPermission().then((e=>{"granted"===e&&a()})).catch(console.error)},()=>{V.signOut(),H.logout()},i,o,s]}new class extends c{constructor(e){super(),u(this,e,Ae,Le,d,{})}}({target:document.getElementById("app")});
