var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,i=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(o)for(var n of o(t))r.call(t,n)&&l(e,n,t[n]);return e};import{w as a,S as c,i as u,s as d,e as p,a as v,b as g,l as m,n as f,d as h,c as y,f as b,r as w,g as $,h as k,j as x,m as C,t as A,k as L,o as S,p as E,q as O,u as P,v as U,x as D,y as _,z as j,A as I,B as N,C as z,D as B,E as K,F as M,G as R}from"./vendor.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const T={};firebase.initializeApp({apiKey:"AIzaSyD-pzp1xZtmduu3mjWD77pVgGBKhNF1n30",authDomain:"koopkit-c38c2.firebaseapp.com",projectId:"koopkit-c38c2",storageBucket:"koopkit-c38c2.appspot.com",messagingSenderId:"1065077530630",appId:"1:1065077530630:web:165285110dcd11c0446387",measurementId:"G-4TSBJTR9KW"});const G=firebase.auth(),q=new firebase.auth.GoogleAuthProvider,V=()=>(G.languageCode="tr",G.signInWithPopup(q)),W=()=>G.signOut(),H=Gun(),Z=H.user().recall({sessionStorage:!0}),F=(e=>{const{subscribe:o,set:s,update:r}=a(e);return G.onAuthStateChanged((e=>{r((e=>{return o=i({},e),t(o,n({loading:!1}));var o})),e?(console.log("firebase sign in"),r((e=>i({},e)))):(console.log("firebase sign out"),r((e=>i({},e))))})),{subscribe:o,signIn:()=>V().catch(console.error),signOut:()=>W().catch(console.error)}})({auth:G,signIn:V,signOut:W,loading:!0}),J=(e=>{const{subscribe:t,set:n,update:o}=a(e);return Z._.sea&&n({status:"signed-in",user:Z}),H.on("auth",(()=>{console.log("on auth çalıştı"),n({status:"signed-in",user:Z})})),{subscribe:t,login:(e,t)=>{n({status:"unknown",user:null}),((e,t)=>new Promise(((n,o)=>{var s;(null==(s=null==Z?void 0:Z._)?void 0:s.sea)&&n(!0),console.log("Trying login with pin:",t),Z.auth(e,t,(o=>{o.err&&"Wrong user or password."===o.err?Z.create(e,t,(o=>{o.err&&"User already created!"===o.err?n(!1):o.pub?(console.log("User Not Exists! Now created."),Z.auth(e,t,(()=>n(!0)))):console.log("Unknown error while login!")})):"User is already being created or authenticated!"===o.err||(console.log("gun giriş başarılı. bilinen bir hata yok.",o),n(!0))}))})))(e,t).then((e=>!1===e&&n({status:"wrong-pin",user:null}))).catch(console.error)},logout:()=>(async()=>{Z.leave(),setTimeout((()=>{void 0===Z._.sea&&console.log("Logged Out")}),200)})().then((()=>n({status:"signed-out",user:null}))).catch(console.error)}})({status:"unknown",user:null});function Y(e){let t,n,o;return{c(){t=p("input"),v(t,"type","text"),v(t,"placeholder","epub key"),v(t,"class","svelte-1pwy234")},m(s,r){g(s,t,r),n||(o=m(t,"input",e[8]),n=!0)},p:f,d(e){e&&h(t),n=!1,o()}}}function Q(e){let t,n,o,s,r,l,i,a,c,u,d,$,k,x,C,A,L,S,E,O,P=e[2]&&Y(e);return{c(){t=p("div"),n=p("label"),n.textContent="Encrypt / Decrypt Text:",o=y(),s=p("textarea"),r=y(),l=p("div"),i=p("div"),a=p("label"),a.textContent="Decrypt an incoming message or send an encrypted one:",c=y(),u=p("input"),d=y(),P&&P.c(),$=y(),k=p("div"),x=p("input"),A=y(),L=p("input"),v(n,"for","enctext"),v(s,"id","enctext"),v(s,"rows","4"),s.value=e[0],v(s,"class","svelte-1pwy234"),v(a,"for","epubCheck"),v(u,"type","checkbox"),v(u,"name","epubCheck"),v(u,"id","epubCheck"),v(i,"class","check svelte-1pwy234"),v(l,"class","outMessage svelte-1pwy234"),v(x,"type","button"),x.disabled=C=""===e[0],x.value="Encrypt",v(x,"class","svelte-1pwy234"),v(L,"type","button"),L.disabled=S=""===e[0],L.value="Decrypt",v(L,"class","svelte-1pwy234"),v(t,"class","wrapper svelte-1pwy234")},m(p,v){g(p,t,v),b(t,n),b(t,o),b(t,s),b(t,r),b(t,l),b(l,i),b(i,a),b(i,c),b(i,u),b(l,d),P&&P.m(l,null),b(t,$),b(t,k),b(k,x),b(k,A),b(k,L),E||(O=[m(s,"input",e[3]),m(u,"click",e[7]),m(x,"click",e[4]),m(L,"click",e[5])],E=!0)},p(e,[t]){1&t&&(s.value=e[0]),e[2]?P?P.p(e,t):(P=Y(e),P.c(),P.m(l,null)):P&&(P.d(1),P=null),1&t&&C!==(C=""===e[0])&&(x.disabled=C),1&t&&S!==(S=""===e[0])&&(L.disabled=S)},i:f,o:f,d(e){e&&h(t),P&&P.d(),E=!1,w(O)}}}function X(e,t,n){let o,s;$(e,J,(e=>n(6,s=e)));let r="",l="",i="",a=!1;return e.$$.update=()=>{64&e.$$.dirty&&(o=s.user._.sea)},[r,i,a,e=>{n(0,r=e.target.value),l=r},async e=>{if(console.log("pair",o),a){let e=await SEA.encrypt(r,await SEA.secret(i,o)),t=await SEA.sign(e,o);n(0,r=t)}else{let e=await SEA.encrypt(r,o),t=await SEA.sign(e,o);n(0,r=t)}},async e=>{if(a){let e=await SEA.verify(r,o.pub),t=await SEA.decrypt(e,await SEA.secret(i,o));n(0,r=t)}else{let e=await SEA.verify(r,o.pub),t=await SEA.decrypt(e,o);await SEA.work(t,o)===await SEA.work(l,o)&&n(0,r=t)}},s,e=>n(2,a=e.target.checked),e=>n(1,i=e.target.value)]}class ee extends c{constructor(e){super(),u(this,e,X,Q,d,{})}}function te(e){let t,n;return{c(){t=k("svg"),n=k("path"),v(n,"stroke-linecap","round"),v(n,"stroke-linejoin","round"),v(n,"stroke-width","2"),v(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),v(t,"width","100%"),v(t,"height","100%"),v(t,"viewBox","0 0 24 24"),v(t,"fill","none"),v(t,"stroke","currentColor"),v(t,"xmlns","http://www.w3.org/2000/svg")},m(e,o){g(e,t,o),b(t,n)},p:f,i:f,o:f,d(e){e&&h(t)}}}class ne extends c{constructor(e){super(),u(this,e,null,te,d,{})}}function oe(e){let t,n,o,s,r,l,i,a,c;return s=new ne({}),{c(){t=p("div"),n=p("div"),o=p("div"),x(s.$$.fragment),r=y(),l=p("div"),l.textContent="Bu Cihaza Yükle",v(o,"class","icon svelte-usjklv"),v(l,"class","text svelte-usjklv"),v(n,"class","btn svelte-usjklv"),v(t,"class","wrapper svelte-usjklv")},m(u,d){g(u,t,d),b(t,n),b(n,o),C(s,o,null),b(n,r),b(n,l),i=!0,a||(c=m(n,"click",e[2]),a=!0)},p:f,i(e){i||(A(s.$$.fragment,e),i=!0)},o(e){L(s.$$.fragment,e),i=!1},d(e){e&&h(t),S(s),a=!1,c()}}}function se(e){let t,n,o,s,r=e[0]&&oe(e);return{c(){r&&r.c(),t=E()},m(l,i){r&&r.m(l,i),g(l,t,i),n=!0,o||(s=[m(window,"beforeinstallprompt",O(e[1])),m(window,"appinstalled",O(e[3]))],o=!0)},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&A(r,1)):(r=oe(e),r.c(),A(r,1),r.m(t.parentNode,t)):r&&(P(),L(r,1,1,(()=>{r=null})),U())},i(e){n||(A(r),n=!0)},o(e){L(r),n=!1},d(e){r&&r.d(e),e&&h(t),o=!1,w(s)}}}function re(e,t,n){let o,s=!1;return[s,e=>{o=e,n(0,s=!0)},()=>{n(0,s=!1),o.prompt(),o.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),o=null})).catch(console.error)},()=>{o=null,console.log("PWA was installed")}]}class le extends c{constructor(e){super(),u(this,e,re,se,d,{})}}function ie(e){let t,n,o,s,r,l;return{c(){t=k("svg"),n=k("g"),o=k("path"),s=k("path"),r=k("path"),l=k("path"),v(o,"fill","#4285F4"),v(o,"d","M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"),v(s,"fill","#34A853"),v(s,"d","M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"),v(r,"fill","#FBBC05"),v(r,"d","M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"),v(l,"fill","#EA4335"),v(l,"d","M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"),v(n,"transform","matrix(1, 0, 0, 1, 27.009001, -39.238998)"),v(t,"width","100%"),v(t,"height","100%"),v(t,"viewBox","0 0 24 24"),v(t,"fill","none"),v(t,"stroke","none"),v(t,"xmlns","http://www.w3.org/2000/svg")},m(e,i){g(e,t,i),b(t,n),b(n,o),b(n,s),b(n,r),b(n,l)},p:f,i:f,o:f,d(e){e&&h(t)}}}class ae extends c{constructor(e){super(),u(this,e,null,ie,d,{})}}function ce(e){let t;return{c(){t=p("p"),t.textContent="Hatalı pin! Tekrar Deneyin:",D(t,"color","crimson"),v(t,"class","svelte-1myyhr8")},m(e,n){g(e,t,n)},d(e){e&&h(t)}}}function ue(e){var t;let n,o,s,r,l,i,a,c,u,d,$,k,x,C,A,L,S,E="wrong-pin"===(null==(t=e[4])?void 0:t.status)&&ce();return{c(){var t;n=p("div"),o=p("div"),s=p("div"),r=p("img"),i=y(),a=p("p"),a.textContent="Pin Kodunuz:",c=y(),E&&E.c(),u=y(),d=p("form"),$=p("input"),k=y(),x=p("button"),x.textContent="Giriş",C=y(),A=p("button"),A.textContent="Girdim say",_(r.src,l=null==(t=e[3])?void 0:t.photoURL)||v(r,"src",l),v(r,"alt","Profile Pic"),v(r,"class","svelte-1myyhr8"),v(s,"class","pp svelte-1myyhr8"),v(a,"class","svelte-1myyhr8"),v($,"type","password"),v($,"pattern","[0-9]*"),v($,"inputmode","numeric"),v($,"maxlength","4"),v($,"minlength","4"),v($,"placeholder","Pin"),v($,"title","Pin Kodu 4 haneli ve sadece rakamlardan oluşmalıdır"),$.required=!0,v(x,"type","submit"),v(x,"class","svelte-1myyhr8"),v(d,"class","svelte-1myyhr8"),v(A,"class","svelte-1myyhr8"),v(n,"class","wrapper svelte-1myyhr8")},m(t,l){g(t,n,l),b(n,o),b(o,s),b(s,r),b(o,i),b(o,a),b(o,c),E&&E.m(o,null),b(o,u),b(o,d),b(d,$),e[6]($),b(d,k),b(d,x),b(n,C),b(n,A),L||(S=[m($,"input",e[5]),m($,"focus",e[7]),m(d,"submit",O(e[8])),m(A,"click",e[9])],L=!0)},p(e,[t]){var n,s;8&t&&!_(r.src,l=null==(n=e[3])?void 0:n.photoURL)&&v(r,"src",l),"wrong-pin"===(null==(s=e[4])?void 0:s.status)?E||(E=ce(),E.c(),E.m(o,u)):E&&(E.d(1),E=null)},i:f,o:f,d(t){t&&h(n),E&&E.d(),e[6](null),L=!1,w(S)}}}function de(e,t,n){let o,s,r;$(e,F,(e=>n(0,s=e))),$(e,J,(e=>n(4,r=e)));let l,i="";j((()=>l.focus()));return e.$$.update=()=>{var t;1&e.$$.dirty&&n(3,o=null==(t=null==s?void 0:s.auth)?void 0:t.currentUser)},[s,i,l,o,r,e=>{n(1,i=e.target.value.toString())},function(e){I[e?"unshift":"push"]((()=>{l=e,n(2,l)}))},()=>l.select(),()=>{var e;return J.login(null==(e=null==s?void 0:s.auth)?void 0:e.currentUser.uid,`${i}${i}`)},()=>{var e;return J.login(null==(e=null==s?void 0:s.auth)?void 0:e.currentUser.uid,"12341234")}]}class pe extends c{constructor(e){super(),u(this,e,de,ue,d,{})}}function ve(e){let t,n,o="signed-in"!==e[1].status&&fe();return{c(){o&&o.c(),t=E()},m(e,s){o&&o.m(e,s),g(e,t,s),n=!0},p(e,n){"signed-in"!==e[1].status?o?2&n&&A(o,1):(o=fe(),o.c(),A(o,1),o.m(t.parentNode,t)):o&&(P(),L(o,1,1,(()=>{o=null})),U())},i(e){n||(A(o),n=!0)},o(e){L(o),n=!1},d(e){o&&o.d(e),e&&h(t)}}}function ge(e){let t,n,o,s,r,l,i,a;return o=new ae({}),{c(){t=p("div"),n=p("div"),x(o.$$.fragment),s=y(),r=p("div"),r.textContent="Google hesabı ile giriş yap",v(n,"class","icon svelte-zvv0mb"),v(r,"class","text svelte-zvv0mb"),v(t,"class","btn svelte-zvv0mb")},m(e,c){g(e,t,c),b(t,n),C(o,n,null),b(t,s),b(t,r),l=!0,i||(a=m(t,"click",F.signIn),i=!0)},p:f,i(e){l||(A(o.$$.fragment,e),l=!0)},o(e){L(o.$$.fragment,e),l=!1},d(e){e&&h(t),S(o),i=!1,a()}}}function me(e){let t;return{c(){t=N("Yükleniyor...")},m(e,n){g(e,t,n)},p:f,i:f,o:f,d(e){e&&h(t)}}}function fe(e){let t,n;return t=new pe({}),{c(){x(t.$$.fragment)},m(e,o){C(t,e,o),n=!0},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){L(t.$$.fragment,e),n=!1},d(e){S(t,e)}}}function he(e){let t,n,o,s;const r=[me,ge,ve],l=[];function i(e,t){var n,o,s,r,l;return(null==(n=e[0])?void 0:n.loading)?0:null===(null==(s=null==(o=e[0])?void 0:o.auth)?void 0:s.currentUser)?1:(null==(l=null==(r=e[0])?void 0:r.auth)?void 0:l.currentUser)?2:-1}return~(n=i(e))&&(o=l[n]=r[n](e)),{c(){t=p("div"),o&&o.c(),v(t,"class","wrapper svelte-zvv0mb")},m(e,o){g(e,t,o),~n&&l[n].m(t,null),s=!0},p(e,[s]){let a=n;n=i(e),n===a?~n&&l[n].p(e,s):(o&&(P(),L(l[a],1,1,(()=>{l[a]=null})),U()),~n?(o=l[n],o?o.p(e,s):(o=l[n]=r[n](e),o.c()),A(o,1),o.m(t,null)):o=null)},i(e){s||(A(o),s=!0)},o(e){L(o),s=!1},d(e){e&&h(t),~n&&l[n].d()}}}function ye(e,t,n){let o,s;return $(e,F,(e=>n(0,o=e))),$(e,J,(e=>n(1,s=e))),[o,s]}class be extends c{constructor(e){super(),u(this,e,ye,he,d,{})}}function we(e){var t,n,o,s,r,l,i;let a,c,u,d,m,w,$,k,x,C,A,L,S,E,O,P,U,D,j,I,B,K,M,R,T,G,q,V,W,H,Z,F,J,Y,Q,X,ee,te,ne,oe,se,re,le=(null==(t=e[0])?void 0:t.uid)+"",ie=(null==(n=e[0])?void 0:n.displayName)+"",ae=(null==(o=e[0])?void 0:o.email)+"",ce=(null==(s=e[0])?void 0:s.emailVerified)+"",ue=(null==(r=e[0])?void 0:r.photoURL)+"",de=(null==(l=e[0])?void 0:l.isAnonymous)+"",pe=JSON.stringify(null==(i=e[0])?void 0:i.providerData)+"";return{c(){var t;a=p("section"),c=p("div"),u=p("img"),m=y(),w=p("h1"),w.textContent="Kullanıcı Profili",$=y(),k=p("div"),x=p("p"),C=p("b"),C.textContent="uid:",A=y(),L=N(le),S=y(),E=p("p"),O=p("b"),O.textContent="displayName:",P=y(),U=N(ie),D=y(),j=p("p"),I=p("b"),I.textContent="email:",B=y(),K=N(ae),M=y(),R=p("p"),T=p("b"),T.textContent="emailVerified:",G=y(),q=N(ce),V=y(),W=p("p"),H=p("b"),H.textContent="photoURL:",Z=y(),F=N(ue),J=y(),Y=p("p"),Q=p("b"),Q.textContent="isAnonymous:",X=y(),ee=N(de),te=y(),ne=p("p"),oe=p("b"),oe.textContent="providerData:",se=y(),re=N(pe),_(u.src,d=null==(t=e[0])?void 0:t.photoURL)||v(u,"src",d),v(u,"alt","Profil Resmi"),v(u,"class","svelte-kbd67g"),v(c,"class","pp svelte-kbd67g"),v(x,"class","svelte-kbd67g"),v(E,"class","svelte-kbd67g"),v(j,"class","svelte-kbd67g"),v(R,"class","svelte-kbd67g"),v(W,"class","svelte-kbd67g"),v(Y,"class","svelte-kbd67g"),v(ne,"class","svelte-kbd67g"),v(a,"class","svelte-kbd67g")},m(e,t){g(e,a,t),b(a,c),b(c,u),b(a,m),b(a,w),b(a,$),b(a,k),b(k,x),b(x,C),b(x,A),b(x,L),b(k,S),b(k,E),b(E,O),b(E,P),b(E,U),b(k,D),b(k,j),b(j,I),b(j,B),b(j,K),b(k,M),b(k,R),b(R,T),b(R,G),b(R,q),b(k,V),b(k,W),b(W,H),b(W,Z),b(W,F),b(k,J),b(k,Y),b(Y,Q),b(Y,X),b(Y,ee),b(k,te),b(k,ne),b(ne,oe),b(ne,se),b(ne,re)},p(e,[t]){var n,o,s,r,l,i,a,c;1&t&&!_(u.src,d=null==(n=e[0])?void 0:n.photoURL)&&v(u,"src",d),1&t&&le!==(le=(null==(o=e[0])?void 0:o.uid)+"")&&z(L,le),1&t&&ie!==(ie=(null==(s=e[0])?void 0:s.displayName)+"")&&z(U,ie),1&t&&ae!==(ae=(null==(r=e[0])?void 0:r.email)+"")&&z(K,ae),1&t&&ce!==(ce=(null==(l=e[0])?void 0:l.emailVerified)+"")&&z(q,ce),1&t&&ue!==(ue=(null==(i=e[0])?void 0:i.photoURL)+"")&&z(F,ue),1&t&&de!==(de=(null==(a=e[0])?void 0:a.isAnonymous)+"")&&z(ee,de),1&t&&pe!==(pe=JSON.stringify(null==(c=e[0])?void 0:c.providerData)+"")&&z(re,pe)},i:f,o:f,d(e){e&&h(a)}}}function $e(e,t,n){let o,s;var r;return $(e,F,(e=>n(2,s=e))),e.$$.update=()=>{6&e.$$.dirty&&n(0,o=null===n(1,r=null==s?void 0:s.auth)||void 0===r?void 0:r.currentUser)},[o,r,s]}class ke extends c{constructor(e){super(),u(this,e,$e,we,d,{})}}function xe(e,t,n){const o=e.slice();return o[13]=t[n],o}function Ce(e){let t,n,o,s=e[13].label+"";return{c(){t=p("option"),n=N(s),t.__value=o=e[13].deviceId,t.value=t.__value},m(e,o){g(e,t,o),b(t,n)},p(e,r){2&r&&s!==(s=e[13].label+"")&&z(n,s),2&r&&o!==(o=e[13].deviceId)&&(t.__value=o,t.value=t.__value)},d(e){e&&h(t)}}}function Ae(e){let t,n,o,s,r,l,i,a,c,u,d,$,k,x,C,A,L=e[1],S=[];for(let p=0;p<L.length;p+=1)S[p]=Ce(xe(e,L,p));return{c(){t=p("div"),n=p("p"),o=N("BarcodeApı: "),s=N(e[3]),r=y(),l=p("div"),i=p("video"),a=y(),c=p("button"),c.textContent="Camera Request",u=y(),d=p("p"),d.textContent="Available Devices:",$=y(),k=p("select");for(let e=0;e<S.length;e+=1)S[e].c();i.autoplay=!0,i.playsInline=!0,v(i,"class","svelte-1h8kxne"),v(l,"class","video_wrapper svelte-1h8kxne"),v(k,"name","devices"),v(k,"id","devices"),k.disabled=x=e[1].length<1,void 0===e[2]&&B((()=>e[7].call(k))),v(t,"class","wrapper svelte-1h8kxne")},m(p,v){g(p,t,v),b(t,n),b(n,o),b(n,s),b(t,r),b(t,l),b(l,i),e[6](i),b(t,a),b(t,c),b(t,u),b(t,d),b(t,$),b(t,k);for(let e=0;e<S.length;e+=1)S[e].m(k,null);K(k,e[2]),C||(A=[m(c,"click",e[4]),m(k,"change",e[7]),m(k,"change",e[5])],C=!0)},p(e,[t]){if(8&t&&z(s,e[3]),2&t){let n;for(L=e[1],n=0;n<L.length;n+=1){const o=xe(e,L,n);S[n]?S[n].p(o,t):(S[n]=Ce(o),S[n].c(),S[n].m(k,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=L.length}2&t&&x!==(x=e[1].length<1)&&(k.disabled=x),6&t&&K(k,e[2])},i:f,o:f,d(n){n&&h(t),e[6](null),M(S,n),C=!1,w(A)}}}function Le(e,t){console.error(e),void 0!==t&&console.error(t)}function Se(e,t,n){let o;var s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(s,r){function l(e){try{a(o.next(e))}catch(t){r(t)}}function i(e){try{a(o.throw(e))}catch(t){r(t)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}a((o=o.apply(e,t||[])).next())}))};let r,l,i,a=[];const c={audio:!1,video:!0};function u(e){const t=e.getVideoTracks();console.log("tracks",t),console.log("Got stream with constraints:",c),console.log(`Using video device: ${t[0].label}`),n(0,l.srcObject=e,l)}return j((()=>{"BarcodeDetector"in window?(console.log("Barcode Detector supported!"),n(3,o=!0)):(n(3,o=!1),console.log("Barcode Detector is not supported in this browser"))})),n(3,o=!1),[l,a,i,o,function(e){return s(this,void 0,void 0,(function*(){try{if(navigator){const t=yield navigator.mediaDevices.enumerateDevices();n(1,a=t.filter((e=>""!==e.deviceId&&"videoinput"===e.kind))),n(2,i=a[0].deviceId),console.log(a);const o=yield navigator.mediaDevices.getUserMedia(c);console.log("sssssssss",o),u(o),e.target.disabled=!0}}catch(t){!function(e){if("OverconstrainedError"===e.name){const t=c.video;Le(`The resolution ${t.width.exact}x${t.height.exact} px is not supported by your device.`,e)}else"NotAllowedError"===e.name&&Le("Permissions have not been granted to use your camera and microphone, you need to allow the page access to your devices in order for the demo to work.",e);Le(`getUserMedia error: ${e.name}`,e)}(t)}}))},e=>s(void 0,void 0,void 0,(function*(){let t=Object.assign(Object.assign({},c),{deviceId:{exact:e.target.value}});console.log(e.target.value),r.requestStream().then((function(e){r._stream=e,n(0,l.srcObject=e,l)}));const o=yield navigator.mediaDevices.getUserMedia(t);r=o,u(o)})),function(e){I[e?"unshift":"push"]((()=>{l=e,n(0,l)}))},function(){i=R(this),n(2,i),n(1,a)}]}class Ee extends c{constructor(e){super(),u(this,e,Se,Ae,d,{})}}function Oe(e){let t,n;return t=new be({}),{c(){x(t.$$.fragment)},m(e,o){C(t,e,o),n=!0},p:f,i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){L(t.$$.fragment,e),n=!1},d(e){S(t,e)}}}function Pe(e){let t,n,o,s,r,l,i,a,c,u;return t=new ee({}),r=new ke({}),{c(){x(t.$$.fragment),n=y(),o=p("input"),s=y(),x(r.$$.fragment),l=y(),i=p("input"),v(o,"type","button"),o.value="Test Push Notification",v(o,"class","svelte-g5dfzm"),v(i,"type","button"),i.value="Çıkış",v(i,"class","svelte-g5dfzm")},m(d,p){C(t,d,p),g(d,n,p),g(d,o,p),g(d,s,p),C(r,d,p),g(d,l,p),g(d,i,p),a=!0,c||(u=[m(o,"click",e[1]),m(i,"click",e[2])],c=!0)},p:f,i(e){a||(A(t.$$.fragment,e),A(r.$$.fragment,e),a=!0)},o(e){L(t.$$.fragment,e),L(r.$$.fragment,e),a=!1},d(e){S(t,e),e&&h(n),e&&h(o),e&&h(s),S(r,e),e&&h(l),e&&h(i),c=!1,w(u)}}}function Ue(e){let t,n,o,s,r,l,i,a,c,u,d,m,f,w;t=new le({}),s=new Ee({});const $=[Pe,Oe],k=[];function E(e,t){return e[0]?0:1}return m=E(e),f=k[m]=$[m](e),{c(){x(t.$$.fragment),n=y(),o=p("main"),x(s.$$.fragment),r=y(),l=p("div"),l.innerHTML='<img src="../icon/icon192.png" alt="KoopKit Logo"/>',i=y(),a=p("h1"),a.textContent="KoopKit",c=y(),u=p("p"),u.textContent="Kooperatif Destek Kiti",d=y(),f.c(),v(l,"class","logo svelte-g5dfzm"),v(a,"class","svelte-g5dfzm"),v(u,"class","svelte-g5dfzm"),v(o,"class","svelte-g5dfzm")},m(e,p){C(t,e,p),g(e,n,p),g(e,o,p),C(s,o,null),b(o,r),b(o,l),b(o,i),b(o,a),b(o,c),b(o,u),b(o,d),k[m].m(o,null),w=!0},p(e,[t]){let n=m;m=E(e),m===n?k[m].p(e,t):(P(),L(k[n],1,1,(()=>{k[n]=null})),U(),f=k[m],f?f.p(e,t):(f=k[m]=$[m](e),f.c()),A(f,1),f.m(o,null))},i(e){w||(A(t.$$.fragment,e),A(s.$$.fragment,e),A(f),w=!0)},o(e){L(t.$$.fragment,e),L(s.$$.fragment,e),L(f),w=!1},d(e){S(t,e),e&&h(n),e&&h(o),S(s),k[m].d()}}}function De(e,t,n){let o,s,r;var l;$(e,J,(e=>n(4,s=e))),$(e,F,(e=>n(5,r=e)));const i={body:"Burası bildirim gövdesi!",icon:"icon/icon192.png",badge:"icon/badge.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1}},a=()=>{return(e=()=>import("./notification.js"),t=[],t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in T)return;T[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e())):e()).then((({notification:e})=>e("Hey Selamlar!",i)));var e,t};return e.$$.update=()=>{48&e.$$.dirty&&(console.log(r),console.log(s)),56&e.$$.dirty&&n(0,o=(null===n(3,l=null==r?void 0:r.auth)||void 0===l?void 0:l.currentUser)&&"signed-in"===s.status)},[o,()=>{"granted"==Notification.permission?a():Notification.requestPermission().then((e=>{"granted"===e&&a()})).catch(console.error)},()=>{F.signOut(),J.logout()},l,s,r]}new class extends c{constructor(e){super(),u(this,e,De,Ue,d,{})}}({target:document.getElementById("app")});
