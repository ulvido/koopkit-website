import{S as e,i as t,s as n,a as o,b as s,c as l,d as r,n as i,e as c,f as a,g as d,h as u,m as v,l as p,t as g,j as f,k as m,o as h,p as w,q as b,r as y,u as k,v as $,w as x,x as D,y as I,z as j,A as S}from"./vendor.js";function A(e){let t,n;return{c(){t=o("svg"),n=o("path"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"stroke-width","2"),s(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),s(t,"width","100%"),s(t,"height","100%"),s(t,"viewBox","0 0 24 24"),s(t,"fill","none"),s(t,"stroke","currentColor"),s(t,"xmlns","http://www.w3.org/2000/svg")},m(e,o){l(e,t,o),r(t,n)},p:i,i:i,o:i,d(e){e&&c(t)}}}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class B extends e{constructor(e){super(),t(this,e,null,A,n,{})}}function C(e){let t,n,o,h,w,b,y,k,$;return h=new B({}),{c(){t=a("div"),n=a("div"),o=a("div"),d(h.$$.fragment),w=u(),b=a("div"),b.textContent="Bu Cihaza Yükle",s(o,"class","icon svelte-usjklv"),s(b,"class","text svelte-usjklv"),s(n,"class","btn svelte-usjklv"),s(t,"class","wrapper svelte-usjklv")},m(s,i){l(s,t,i),r(t,n),r(n,o),v(h,o,null),r(n,w),r(n,b),y=!0,k||($=p(n,"click",e[2]),k=!0)},p:i,i(e){y||(g(h.$$.fragment,e),y=!0)},o(e){f(h.$$.fragment,e),y=!1},d(e){e&&c(t),m(h),k=!1,$()}}}function E(e){let t,n,o,s,r=e[0]&&C(e);return{c(){r&&r.c(),t=h()},m(i,c){r&&r.m(i,c),l(i,t,c),n=!0,o||(s=[p(window,"beforeinstallprompt",w(e[1])),p(window,"appinstalled",w(e[3]))],o=!0)},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&g(r,1)):(r=C(e),r.c(),g(r,1),r.m(t.parentNode,t)):r&&(b(),f(r,1,1,(()=>{r=null})),y())},i(e){n||(g(r),n=!0)},o(e){f(r),n=!1},d(e){r&&r.d(e),e&&c(t),o=!1,k(s)}}}function O(e,t,n){let o,s=!1;return[s,e=>{o=e,n(0,s=!0)},()=>{n(0,s=!1),o.prompt(),o.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),o=null})).catch(console.error)},()=>{o=null,console.log("PWA was installed")}]}class M extends e{constructor(e){super(),t(this,e,O,E,n,{})}}function z(e,t,n){const o=e.slice();return o[15]=t[n],o}function P(e){let t,n,o,r=Object.keys(e[5]),i=[];for(let s=0;s<r.length;s+=1)i[s]=N(z(e,r,s));return{c(){t=a("p"),t.textContent="Supported Constraints",n=u(),o=a("ul");for(let e=0;e<i.length;e+=1)i[e].c();s(t,"class","svelte-13lg9c1")},m(e,s){l(e,t,s),l(e,n,s),l(e,o,s);for(let t=0;t<i.length;t+=1)i[t].m(o,null)},p(e,t){if(32&t){let n;for(r=Object.keys(e[5]),n=0;n<r.length;n+=1){const s=z(e,r,n);i[n]?i[n].p(s,t):(i[n]=N(s),i[n].c(),i[n].m(o,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}},d(e){e&&c(t),e&&c(n),e&&c(o),D(i,e)}}}function N(e){let t,n,o=e[15]+"";return{c(){t=a("li"),n=$(o)},m(e,o){l(e,t,o),r(t,n)},p(e,t){32&t&&o!==(o=e[15]+"")&&x(n,o)},d(e){e&&c(t)}}}function L(e){var t;let n,o,d,v,g,f,m,h,w,b,y,D,I,j,S,A,B,C,E,O,M,z,N=(null==(t=e[2][e[3]])?void 0:t.deviceId)+"",L=e[5]&&P(e);return{c(){n=a("div"),o=a("div"),d=a("video"),v=u(),g=a("div"),f=a("button"),m=$("GET VIDEO DEVICES"),h=u(),w=a("button"),b=$("NEXT CAMERA »"),D=u(),I=a("p"),j=$("Selected Device: "),S=$(e[3]),A=u(),B=a("p"),C=$("Selected DeviceId: "),E=$(N),O=u(),L&&L.c(),d.autoplay=!0,d.playsInline=!0,s(d,"class","svelte-13lg9c1"),s(o,"class","video-wrapper"),s(f,"type","button"),f.disabled=e[4],s(f,"class","svelte-13lg9c1"),s(w,"type","button"),w.disabled=y=e[4]||!e[0]||e[2].length<2,s(w,"class","svelte-13lg9c1"),s(g,"class","buttons svelte-13lg9c1"),s(I,"class","svelte-13lg9c1"),s(B,"class","svelte-13lg9c1"),s(n,"class","wrapper svelte-13lg9c1")},m(t,s){l(t,n,s),r(n,o),r(o,d),e[9](d),r(n,v),r(n,g),r(g,f),r(f,m),r(g,h),r(g,w),r(w,b),r(n,D),r(n,I),r(I,j),r(I,S),r(n,A),r(n,B),r(B,C),r(B,E),r(n,O),L&&L.m(n,null),M||(z=[p(d,"loadedmetadata",e[8]),p(f,"click",e[7]),p(w,"click",e[6])],M=!0)},p(e,[t]){var o;16&t&&(f.disabled=e[4]),21&t&&y!==(y=e[4]||!e[0]||e[2].length<2)&&(w.disabled=y),8&t&&x(S,e[3]),12&t&&N!==(N=(null==(o=e[2][e[3]])?void 0:o.deviceId)+"")&&x(E,N),e[5]?L?L.p(e,t):(L=P(e),L.c(),L.m(n,null)):L&&(L.d(1),L=null)},i:i,o:i,d(t){t&&c(n),e[9](null),L&&L.d(),M=!1,k(z)}}}function U(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(s,l){function r(e){try{c(o.next(e))}catch(t){l(t)}}function i(e){try{c(o.throw(e))}catch(t){l(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((o=o.apply(e,t||[])).next())}))};let s,l,r,i=[],c=!0;let a;const d=()=>!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);I((()=>{console.log(j.browserDetails.browser," : ",j.browserDetails.version),n(5,a=navigator.mediaDevices.getSupportedConstraints()),n(4,c=!1)}));return[s,l,i,r,c,a,()=>o(void 0,void 0,void 0,(function*(){var e;n(4,c=!0),n(3,r=(r+1)%i.length);let t={audio:!1,video:{deviceId:{exact:null===(e=i[r])||void 0===e?void 0:e.deviceId}}};s.getTracks().forEach((e=>{console.log(e),"live"==e.readyState&&"video"===e.kind&&(e.stop(),e.applyConstraints(t))})),n(1,l.srcObject=null,l),n(0,s=null),n(0,s=yield navigator.mediaDevices.getUserMedia(t)),console.log(s),n(1,l.srcObject=s,l),n(4,c=!1)})),()=>o(void 0,void 0,void 0,(function*(){var e;n(4,c=!0),n(3,r=0);let t,o=yield navigator.mediaDevices.enumerateDevices();console.log(o),n(2,i=o.filter((e=>"videoinput"===(null==e?void 0:e.kind)))),console.log(i),t=d()?{audio:!1,video:{facingMode:{exact:"environment"}}}:{audio:!1,video:{deviceId:{exact:null===(e=i[r])||void 0===e?void 0:e.deviceId}}},n(0,s=yield navigator.mediaDevices.getUserMedia(t)),console.log(s),n(1,l.srcObject=s,l),n(4,c=!1)})),()=>l.play(),function(e){S[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class _ extends e{constructor(e){super(),t(this,e,U,L,n,{})}}function T(e){let t,n,o,i,p,h,w,b,y;return t=new M({}),b=new _({}),{c(){d(t.$$.fragment),n=u(),o=a("main"),i=a("p"),p=$("BarcodeApi: "),h=$(e[0]),w=u(),d(b.$$.fragment),s(i,"class","svelte-szc1xz"),s(o,"class","svelte-szc1xz")},m(e,s){v(t,e,s),l(e,n,s),l(e,o,s),r(o,i),r(i,p),r(i,h),r(o,w),v(b,o,null),y=!0},p(e,[t]){(!y||1&t)&&x(h,e[0])},i(e){y||(g(t.$$.fragment,e),g(b.$$.fragment,e),y=!0)},o(e){f(t.$$.fragment,e),f(b.$$.fragment,e),y=!1},d(e){m(t,e),e&&c(n),e&&c(o),m(b)}}}function V(e,t,n){let o=!1;return I((()=>{"BarcodeDetector"in window?(n(0,o=!0),console.log("Barcode Detector supported!"),new BarcodeDetector({formats:["code_39","codabar","ean_13"]})):(n(0,o=!1),console.log("Barcode Detector is not supported by this browser."))})),[o]}new class extends e{constructor(e){super(),t(this,e,V,T,n,{})}}({target:document.getElementById("app")});
