var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,i=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(r)for(var n of r(t))o.call(t,n)&&l(e,n,t[n]);return e};import{w as a,S as c,i as u,s as d,e as p,a as g,b as v,l as m,n as f,d as h,c as b,f as y,r as w,g as k,h as $,j as C,m as x,t as L,k as A,o as S,p as E,q as O,u as N,v as P,x as j,y as U,z}from"./vendor.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const D={};firebase.initializeApp({apiKey:"AIzaSyD-pzp1xZtmduu3mjWD77pVgGBKhNF1n30",authDomain:"koopkit-c38c2.firebaseapp.com",projectId:"koopkit-c38c2",storageBucket:"koopkit-c38c2.appspot.com",messagingSenderId:"1065077530630",appId:"1:1065077530630:web:165285110dcd11c0446387",measurementId:"G-4TSBJTR9KW"});const I=firebase.auth(),K=new firebase.auth.GoogleAuthProvider,B=()=>(I.languageCode="tr",I.signInWithPopup(K)),R=()=>I.signOut(),T=Gun(),M=T.user().recall({sessionStorage:!0}),_=(e=>{const{subscribe:r,set:s,update:o}=a(e);return I.onAuthStateChanged((e=>{o((e=>{return r=i({},e),t(r,n({loading:!1}));var r})),e?(console.log("firebase sign in"),o((e=>i({},e)))):(console.log("firebase sign out"),o((e=>i({},e))))})),{subscribe:r,signIn:()=>B().catch(console.error),signOut:()=>R().catch(console.error)}})({auth:I,signIn:B,signOut:R,loading:!0}),G=(e=>{const{subscribe:t,set:n,update:r}=a(e);return M._.sea&&n({status:"gun-signed-in",user:M}),T.on("auth",(()=>{console.log("on auth çalıştı"),n({status:"gun-signed-in",user:M})})),{subscribe:t,login:(e,t)=>(async(e,t)=>{const n=()=>{console.log("Trying login with pin:",t),M.auth(e,t,(r=>{r.err&&"Wrong user or password."===r.err?M.create(e,t,(e=>{e.err&&"User already created!"===e.err||(e.pub?(console.log("User Not Exists! Now created."),n()):console.log("Unknown error while login!"))})):"User is already being created or authenticated!"===r.err||console.log("gun giriş başarılı. bilinen bir hata yok.",r)}))};return n()})(e,t).catch(console.error),logout:()=>(async()=>{M.leave(),setTimeout((()=>{void 0===M._.sea&&console.log("Logged Out")}),200)})().then((()=>n({status:"gun-signed-out",user:null}))).catch(console.error)}})({status:"gun-unknown",user:null});function V(e){let t,n,r;return{c(){t=p("input"),g(t,"type","text"),g(t,"placeholder","epub key"),g(t,"class","svelte-1pwy234")},m(s,o){v(s,t,o),n||(r=m(t,"input",e[8]),n=!0)},p:f,d(e){e&&h(t),n=!1,r()}}}function W(e){let t,n,r,s,o,l,i,a,c,u,d,k,$,C,x,L,A,S,E,O,N=e[2]&&V(e);return{c(){t=p("div"),n=p("label"),n.textContent="Encrypt / Decrypt Text:",r=b(),s=p("textarea"),o=b(),l=p("div"),i=p("div"),a=p("label"),a.textContent="Decrypt an incoming message or send an encrypted one:",c=b(),u=p("input"),d=b(),N&&N.c(),k=b(),$=p("div"),C=p("input"),L=b(),A=p("input"),g(n,"for","enctext"),g(s,"id","enctext"),g(s,"rows","4"),s.value=e[0],g(s,"class","svelte-1pwy234"),g(a,"for","epubCheck"),g(u,"type","checkbox"),g(u,"name","epubCheck"),g(u,"id","epubCheck"),g(i,"class","check svelte-1pwy234"),g(l,"class","outMessage svelte-1pwy234"),g(C,"type","button"),C.disabled=x=""===e[0],C.value="Encrypt",g(C,"class","svelte-1pwy234"),g(A,"type","button"),A.disabled=S=""===e[0],A.value="Decrypt",g(A,"class","svelte-1pwy234"),g(t,"class","wrapper svelte-1pwy234")},m(p,g){v(p,t,g),y(t,n),y(t,r),y(t,s),y(t,o),y(t,l),y(l,i),y(i,a),y(i,c),y(i,u),y(l,d),N&&N.m(l,null),y(t,k),y(t,$),y($,C),y($,L),y($,A),E||(O=[m(s,"input",e[3]),m(u,"click",e[7]),m(C,"click",e[4]),m(A,"click",e[5])],E=!0)},p(e,[t]){1&t&&(s.value=e[0]),e[2]?N?N.p(e,t):(N=V(e),N.c(),N.m(l,null)):N&&(N.d(1),N=null),1&t&&x!==(x=""===e[0])&&(C.disabled=x),1&t&&S!==(S=""===e[0])&&(A.disabled=S)},i:f,o:f,d(e){e&&h(t),N&&N.d(),E=!1,w(O)}}}function Z(e,t,n){let r,s;k(e,G,(e=>n(6,s=e)));let o="",l="",i="",a=!1;return e.$$.update=()=>{64&e.$$.dirty&&(r=s.user._.sea)},[o,i,a,e=>{n(0,o=e.target.value),l=o},async e=>{if(console.log("pair",r),a){let e=await SEA.encrypt(o,await SEA.secret(i,r)),t=await SEA.sign(e,r);n(0,o=t)}else{let e=await SEA.encrypt(o,r),t=await SEA.sign(e,r);n(0,o=t)}},async e=>{if(a){let e=await SEA.verify(o,r.pub),t=await SEA.decrypt(e,await SEA.secret(i,r));n(0,o=t)}else{let e=await SEA.verify(o,r.pub),t=await SEA.decrypt(e,r);await SEA.work(t,r)===await SEA.work(l,r)&&n(0,o=t)}},s,e=>n(2,a=e.target.checked),e=>n(1,i=e.target.value)]}class q extends c{constructor(e){super(),u(this,e,Z,W,d,{})}}function F(e){let t,n;return{c(){t=$("svg"),n=$("path"),g(n,"stroke-linecap","round"),g(n,"stroke-linejoin","round"),g(n,"stroke-width","2"),g(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),g(t,"width","100%"),g(t,"height","100%"),g(t,"viewBox","0 0 24 24"),g(t,"fill","none"),g(t,"stroke","currentColor"),g(t,"xmlns","http://www.w3.org/2000/svg")},m(e,r){v(e,t,r),y(t,n)},p:f,i:f,o:f,d(e){e&&h(t)}}}class H extends c{constructor(e){super(),u(this,e,null,F,d,{})}}function J(e){let t,n,r,s,o,l,i,a,c;return s=new H({}),{c(){t=p("div"),n=p("div"),r=p("div"),C(s.$$.fragment),o=b(),l=p("div"),l.textContent="Bu Cihaza Yükle",g(r,"class","icon svelte-usjklv"),g(l,"class","text svelte-usjklv"),g(n,"class","btn svelte-usjklv"),g(t,"class","wrapper svelte-usjklv")},m(u,d){v(u,t,d),y(t,n),y(n,r),x(s,r,null),y(n,o),y(n,l),i=!0,a||(c=m(n,"click",e[2]),a=!0)},p:f,i(e){i||(L(s.$$.fragment,e),i=!0)},o(e){A(s.$$.fragment,e),i=!1},d(e){e&&h(t),S(s),a=!1,c()}}}function Y(e){let t,n,r,s,o=e[0]&&J(e);return{c(){o&&o.c(),t=E()},m(l,i){o&&o.m(l,i),v(l,t,i),n=!0,r||(s=[m(window,"beforeinstallprompt",O(e[1])),m(window,"appinstalled",O(e[3]))],r=!0)},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&L(o,1)):(o=J(e),o.c(),L(o,1),o.m(t.parentNode,t)):o&&(N(),A(o,1,1,(()=>{o=null})),P())},i(e){n||(L(o),n=!0)},o(e){A(o),n=!1},d(e){o&&o.d(e),e&&h(t),r=!1,w(s)}}}function Q(e,t,n){let r,s=!1;return[s,e=>{r=e,n(0,s=!0)},()=>{n(0,s=!1),r.prompt(),r.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),r=null})).catch(console.error)},()=>{r=null,console.log("PWA was installed")}]}class X extends c{constructor(e){super(),u(this,e,Q,Y,d,{})}}function ee(e){let t,n,r,s,o,l;return{c(){t=$("svg"),n=$("g"),r=$("path"),s=$("path"),o=$("path"),l=$("path"),g(r,"fill","#4285F4"),g(r,"d","M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"),g(s,"fill","#34A853"),g(s,"d","M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"),g(o,"fill","#FBBC05"),g(o,"d","M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"),g(l,"fill","#EA4335"),g(l,"d","M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"),g(n,"transform","matrix(1, 0, 0, 1, 27.009001, -39.238998)"),g(t,"width","100%"),g(t,"height","100%"),g(t,"viewBox","0 0 24 24"),g(t,"fill","none"),g(t,"stroke","none"),g(t,"xmlns","http://www.w3.org/2000/svg")},m(e,i){v(e,t,i),y(t,n),y(n,r),y(n,s),y(n,o),y(n,l)},p:f,i:f,o:f,d(e){e&&h(t)}}}class te extends c{constructor(e){super(),u(this,e,null,ee,d,{})}}function ne(e){let t,n="gun-signed-in"!==e[1].user&&oe(e);return{c(){n&&n.c(),t=E()},m(e,r){n&&n.m(e,r),v(e,t,r)},p(e,r){"gun-signed-in"!==e[1].user?n?n.p(e,r):(n=oe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:f,o:f,d(e){n&&n.d(e),e&&h(t)}}}function re(e){let t,n,r,s,o,l,i,a;return r=new te({}),{c(){t=p("div"),n=p("div"),C(r.$$.fragment),s=b(),o=p("div"),o.textContent="Google hesabı ile giriş yap",g(n,"class","icon svelte-zvv0mb"),g(o,"class","text svelte-zvv0mb"),g(t,"class","btn svelte-zvv0mb")},m(e,c){v(e,t,c),y(t,n),x(r,n,null),y(t,s),y(t,o),l=!0,i||(a=m(t,"click",_.signIn),i=!0)},p:f,i(e){l||(L(r.$$.fragment,e),l=!0)},o(e){A(r.$$.fragment,e),l=!1},d(e){e&&h(t),S(r),i=!1,a()}}}function se(e){let t;return{c(){t=j("Yükleniyor...")},m(e,n){v(e,t,n)},p:f,i:f,o:f,d(e){e&&h(t)}}}function oe(e){let t,n,r,s;return{c(){t=j("LÜTFEN PİN GİRİN\r\n      "),n=p("button"),n.textContent="Girdim say"},m(o,l){v(o,t,l),v(o,n,l),r||(s=m(n,"click",e[2]),r=!0)},p:f,d(e){e&&h(t),e&&h(n),r=!1,s()}}}function le(e){let t,n,r,s;const o=[se,re,ne],l=[];function i(e,t){var n,r,s,o,l;return(null==(n=e[0])?void 0:n.loading)?0:null===(null==(s=null==(r=e[0])?void 0:r.auth)?void 0:s.currentUser)?1:(null==(l=null==(o=e[0])?void 0:o.auth)?void 0:l.currentUser)?2:-1}return~(n=i(e))&&(r=l[n]=o[n](e)),{c(){t=p("div"),r&&r.c(),g(t,"class","wrapper svelte-zvv0mb")},m(e,r){v(e,t,r),~n&&l[n].m(t,null),s=!0},p(e,[s]){let a=n;n=i(e),n===a?~n&&l[n].p(e,s):(r&&(N(),A(l[a],1,1,(()=>{l[a]=null})),P()),~n?(r=l[n],r?r.p(e,s):(r=l[n]=o[n](e),r.c()),L(r,1),r.m(t,null)):r=null)},i(e){s||(L(r),s=!0)},o(e){A(r),s=!1},d(e){e&&h(t),~n&&l[n].d()}}}function ie(e,t,n){let r,s;k(e,_,(e=>n(0,r=e))),k(e,G,(e=>n(1,s=e)));return[r,s,()=>{var e;return G.login(null==(e=null==r?void 0:r.auth)?void 0:e.currentUser.uid,"1234")}]}class ae extends c{constructor(e){super(),u(this,e,ie,le,d,{})}}function ce(e){var t,n,r,s,o,l,i;let a,c,u,d,m,w,k,$,C,x,L,A,S,E,O,N,P,D,I,K,B,R,T,M,_,G,V,W,Z,q,F,H,J,Y,Q,X,ee,te,ne,re,se,oe,le=(null==(t=e[0])?void 0:t.uid)+"",ie=(null==(n=e[0])?void 0:n.displayName)+"",ae=(null==(r=e[0])?void 0:r.email)+"",ce=(null==(s=e[0])?void 0:s.emailVerified)+"",ue=(null==(o=e[0])?void 0:o.photoURL)+"",de=(null==(l=e[0])?void 0:l.isAnonymous)+"",pe=JSON.stringify(null==(i=e[0])?void 0:i.providerData)+"";return{c(){var t;a=p("section"),c=p("div"),u=p("img"),m=b(),w=p("h1"),w.textContent="Kullanıcı Profili",k=b(),$=p("div"),C=p("p"),x=p("b"),x.textContent="uid:",L=b(),A=j(le),S=b(),E=p("p"),O=p("b"),O.textContent="displayName:",N=b(),P=j(ie),D=b(),I=p("p"),K=p("b"),K.textContent="email:",B=b(),R=j(ae),T=b(),M=p("p"),_=p("b"),_.textContent="emailVerified:",G=b(),V=j(ce),W=b(),Z=p("p"),q=p("b"),q.textContent="photoURL:",F=b(),H=j(ue),J=b(),Y=p("p"),Q=p("b"),Q.textContent="isAnonymous:",X=b(),ee=j(de),te=b(),ne=p("p"),re=p("b"),re.textContent="providerData:",se=b(),oe=j(pe),U(u.src,d=null==(t=e[0])?void 0:t.photoURL)||g(u,"src",d),g(u,"alt","Profil Resmi"),g(u,"class","svelte-kbd67g"),g(c,"class","pp svelte-kbd67g"),g(C,"class","svelte-kbd67g"),g(E,"class","svelte-kbd67g"),g(I,"class","svelte-kbd67g"),g(M,"class","svelte-kbd67g"),g(Z,"class","svelte-kbd67g"),g(Y,"class","svelte-kbd67g"),g(ne,"class","svelte-kbd67g"),g(a,"class","svelte-kbd67g")},m(e,t){v(e,a,t),y(a,c),y(c,u),y(a,m),y(a,w),y(a,k),y(a,$),y($,C),y(C,x),y(C,L),y(C,A),y($,S),y($,E),y(E,O),y(E,N),y(E,P),y($,D),y($,I),y(I,K),y(I,B),y(I,R),y($,T),y($,M),y(M,_),y(M,G),y(M,V),y($,W),y($,Z),y(Z,q),y(Z,F),y(Z,H),y($,J),y($,Y),y(Y,Q),y(Y,X),y(Y,ee),y($,te),y($,ne),y(ne,re),y(ne,se),y(ne,oe)},p(e,[t]){var n,r,s,o,l,i,a,c;1&t&&!U(u.src,d=null==(n=e[0])?void 0:n.photoURL)&&g(u,"src",d),1&t&&le!==(le=(null==(r=e[0])?void 0:r.uid)+"")&&z(A,le),1&t&&ie!==(ie=(null==(s=e[0])?void 0:s.displayName)+"")&&z(P,ie),1&t&&ae!==(ae=(null==(o=e[0])?void 0:o.email)+"")&&z(R,ae),1&t&&ce!==(ce=(null==(l=e[0])?void 0:l.emailVerified)+"")&&z(V,ce),1&t&&ue!==(ue=(null==(i=e[0])?void 0:i.photoURL)+"")&&z(H,ue),1&t&&de!==(de=(null==(a=e[0])?void 0:a.isAnonymous)+"")&&z(ee,de),1&t&&pe!==(pe=JSON.stringify(null==(c=e[0])?void 0:c.providerData)+"")&&z(oe,pe)},i:f,o:f,d(e){e&&h(a)}}}function ue(e,t,n){let r,s;var o;return k(e,_,(e=>n(2,s=e))),e.$$.update=()=>{6&e.$$.dirty&&n(0,r=null===n(1,o=null==s?void 0:s.auth)||void 0===o?void 0:o.currentUser)},[r,o,s]}class de extends c{constructor(e){super(),u(this,e,ue,ce,d,{})}}function pe(e){let t,n;return t=new ae({}),{c(){C(t.$$.fragment)},m(e,r){x(t,e,r),n=!0},p:f,i(e){n||(L(t.$$.fragment,e),n=!0)},o(e){A(t.$$.fragment,e),n=!1},d(e){S(t,e)}}}function ge(e){let t,n,r,s,o,l,i,a,c,u;return t=new q({}),o=new de({}),{c(){C(t.$$.fragment),n=b(),r=p("input"),s=b(),C(o.$$.fragment),l=b(),i=p("input"),g(r,"type","button"),r.value="Test Push Notification",g(r,"class","svelte-g5dfzm"),g(i,"type","button"),i.value="Çıkış",g(i,"class","svelte-g5dfzm")},m(d,p){x(t,d,p),v(d,n,p),v(d,r,p),v(d,s,p),x(o,d,p),v(d,l,p),v(d,i,p),a=!0,c||(u=[m(r,"click",e[1]),m(i,"click",e[2])],c=!0)},p:f,i(e){a||(L(t.$$.fragment,e),L(o.$$.fragment,e),a=!0)},o(e){A(t.$$.fragment,e),A(o.$$.fragment,e),a=!1},d(e){S(t,e),e&&h(n),e&&h(r),e&&h(s),S(o,e),e&&h(l),e&&h(i),c=!1,w(u)}}}function ve(e){let t,n,r,s,o,l,i,a,c,u,d,m;t=new X({});const f=[ge,pe],w=[];function k(e,t){return e[0]?0:1}return u=k(e),d=w[u]=f[u](e),{c(){C(t.$$.fragment),n=b(),r=p("main"),s=p("div"),s.innerHTML='<img src="../icon/icon192.png" alt="KoopKit Logo"/>',o=b(),l=p("h1"),l.textContent="KoopKit",i=b(),a=p("p"),a.textContent="Kooperatif Destek Kiti",c=b(),d.c(),g(s,"class","logo svelte-g5dfzm"),g(l,"class","svelte-g5dfzm"),g(a,"class","svelte-g5dfzm"),g(r,"class","svelte-g5dfzm")},m(e,d){x(t,e,d),v(e,n,d),v(e,r,d),y(r,s),y(r,o),y(r,l),y(r,i),y(r,a),y(r,c),w[u].m(r,null),m=!0},p(e,[t]){let n=u;u=k(e),u===n?w[u].p(e,t):(N(),A(w[n],1,1,(()=>{w[n]=null})),P(),d=w[u],d?d.p(e,t):(d=w[u]=f[u](e),d.c()),L(d,1),d.m(r,null))},i(e){m||(L(t.$$.fragment,e),L(d),m=!0)},o(e){A(t.$$.fragment,e),A(d),m=!1},d(e){S(t,e),e&&h(n),e&&h(r),w[u].d()}}}function me(e,t,n){let r,s,o;var l;k(e,G,(e=>n(4,s=e))),k(e,_,(e=>n(5,o=e)));const i={body:"Burası bildirim gövdesi!",icon:"icon/icon192.png",badge:"icon/badge.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1}},a=()=>{return(e=()=>import("./notification.js"),t=[],t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in D)return;D[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e())):e()).then((({notification:e})=>e("Hey Selamlar!",i)));var e,t};return e.$$.update=()=>{48&e.$$.dirty&&(console.log(o),console.log(s)),56&e.$$.dirty&&n(0,r=(null===n(3,l=null==o?void 0:o.auth)||void 0===l?void 0:l.currentUser)&&"gun-signed-in"===s.status)},[r,()=>{"granted"==Notification.permission?a():Notification.requestPermission().then((e=>{"granted"===e&&a()})).catch(console.error)},()=>{_.signOut(),G.logout()},l,s,o]}new class extends c{constructor(e){super(),u(this,e,me,ve,d,{})}}({target:document.getElementById("app")});
