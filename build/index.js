import{f as e,G as t,d as n,w as s,S as o,i as r,s as i,e as l,a,b as c,l as u,n as d,c as p,g as m,h as g,r as v,j as f,k as h,m as w,o as y,t as b,p as $,q as k,u as C,v as x,x as A,y as L,z as S,A as E,B as N}from"./vendor.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const _={},D=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in _)return;_[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((e,t)=>{s.addEventListener("load",e),s.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};e.initializeApp({apiKey:"AIzaSyD-pzp1xZtmduu3mjWD77pVgGBKhNF1n30",authDomain:"koopkit-c38c2.firebaseapp.com",projectId:"koopkit-c38c2",storageBucket:"koopkit-c38c2.appspot.com",messagingSenderId:"1065077530630",appId:"1:1065077530630:web:165285110dcd11c0446387",measurementId:"G-4TSBJTR9KW"});const I=e.auth(),K=new e.auth.GoogleAuthProvider,P=t(),j=P.user().recall({sessionStorage:!0}),B=(e=>{const{subscribe:t,set:n,update:o}=s(e);return I.onAuthStateChanged((e=>{n(e?{status:"firebase-signed-in",user:e}:{status:"firebase-signed-out",user:null})})),{subscribe:t,set:n,update:o,signIn:()=>(I.languageCode="tr",I.signInWithPopup(K).then((e=>e.user)).catch(console.error)).then((e=>{e&&n({status:"firebase-signed-in",user:e})})),signOut:()=>I.signOut().then((()=>n({status:"firebase-signed-out",user:null})))}})({status:"unknown",user:null}),O=n(B,((e,t)=>{var n;"unknown"===e.status?t(null):"firebase-signed-in"===e.status?(null==(n=null==j?void 0:j._)?void 0:n.sea)?t(j):z(j,e.user.uid,"1234",t).then((()=>{var e,n;t(j),P.user(null==(n=null==(e=null==j?void 0:j._)?void 0:e.sea)?void 0:n.pub).get("alias").once((e=>console.log(e)))})).catch(console.error):"firebase-signed-out"===e.status?U(j).then((()=>t(null))).catch(console.error):t(null)})),z=async(e,t,n,s)=>{console.log("Trying login with pin:",n),e.auth(t,n,(o=>{s(e),o.err&&"Wrong user or password."===o.err&&e.create(t,n,(o=>{o.err&&"User already created!"===o.err||(o.pub?(console.log("User Not Exists! Now created."),z(e,t,n,s)):console.log("Unknown error while login!"))}))}))},U=async e=>{e.leave(),setTimeout((()=>{void 0===e._.sea&&console.log("Logged Out")}),200)};function R(e){let t,n,s;return{c(){t=l("input"),a(t,"type","text"),a(t,"placeholder","epub key")},m(o,r){c(o,t,r),n||(s=u(t,"input",e[8]),n=!0)},p:d,d(e){e&&p(t),n=!1,s()}}}function q(e){let t,n,s,o,r,i,f,h,w,y,b,$,k,C,x,A,L,S=e[2]&&R(e);return{c(){t=l("div"),n=l("textarea"),s=m(),o=l("div"),r=l("label"),r.textContent="Decrypt an incoming message or send an encrypted one:",i=m(),f=l("input"),h=m(),S&&S.c(),w=m(),y=l("div"),b=l("input"),k=m(),C=l("input"),a(n,"rows","4"),a(n,"columns","1"),n.value=e[0],a(r,"for","epubCheck"),a(f,"type","checkbox"),a(f,"name","epubCheck"),a(f,"id","epubCheck"),a(o,"class","outMessage svelte-hx1mv0"),a(b,"type","button"),b.disabled=$=""===e[0],b.value="Encrypt",a(b,"class","svelte-hx1mv0"),a(C,"type","button"),C.disabled=x=""===e[0],C.value="Decrypt",a(C,"class","svelte-hx1mv0"),a(t,"class","wrapper svelte-hx1mv0")},m(l,a){c(l,t,a),g(t,n),g(t,s),g(t,o),g(o,r),g(o,i),g(o,f),g(t,h),S&&S.m(t,null),g(t,w),g(t,y),g(y,b),g(y,k),g(y,C),A||(L=[u(n,"input",e[3]),u(f,"click",e[7]),u(b,"click",e[4]),u(C,"click",e[5])],A=!0)},p(e,[s]){1&s&&(n.value=e[0]),e[2]?S?S.p(e,s):(S=R(e),S.c(),S.m(t,w)):S&&(S.d(1),S=null),1&s&&$!==($=""===e[0])&&(b.disabled=$),1&s&&x!==(x=""===e[0])&&(C.disabled=x)},i:d,o:d,d(e){e&&p(t),S&&S.d(),A=!1,v(L)}}}function M(e,t,n){let s,o;f(e,O,(e=>n(6,o=e)));let r="",i="",l="",a=!1;return e.$$.update=()=>{var t;64&e.$$.dirty&&(s=null==(t=null==o?void 0:o._)?void 0:t.sea)},[r,l,a,e=>{n(0,r=e.target.value),i=r},async e=>{if(console.log("pair",s),a){let e=await SEA.encrypt(r,await SEA.secret(l,s)),t=await SEA.sign(e,s);n(0,r=t)}else{let e=await SEA.encrypt(r,s),t=await SEA.sign(e,s);n(0,r=t)}},async e=>{if(a){let e=await SEA.verify(r,s.pub),t=await SEA.decrypt(e,await SEA.secret(l,s));n(0,r=t)}else{let e=await SEA.verify(r,s.pub),t=await SEA.decrypt(e,s);await SEA.work(t,s)===await SEA.work(i,s)&&n(0,r=t)}},o,e=>n(2,a=e.target.checked),e=>n(1,l=e.target.value)]}class T extends o{constructor(e){super(),r(this,e,M,q,i,{})}}function V(e){let t,n;return{c(){t=h("svg"),n=h("path"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"stroke-width","2"),a(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),a(t,"width","100%"),a(t,"height","100%"),a(t,"viewBox","0 0 24 24"),a(t,"fill","none"),a(t,"stroke","currentColor"),a(t,"xmlns","http://www.w3.org/2000/svg")},m(e,s){c(e,t,s),g(t,n)},p:d,i:d,o:d,d(e){e&&p(t)}}}class W extends o{constructor(e){super(),r(this,e,null,V,i,{})}}function G(e){let t,n,s,o,r,i,v,f,h;return o=new W({}),{c(){t=l("div"),n=l("div"),s=l("div"),w(o.$$.fragment),r=m(),i=l("div"),i.textContent="Bu Cihaza Yükle",a(s,"class","icon svelte-usjklv"),a(i,"class","text svelte-usjklv"),a(n,"class","btn svelte-usjklv"),a(t,"class","wrapper svelte-usjklv")},m(l,a){c(l,t,a),g(t,n),g(n,s),y(o,s,null),g(n,r),g(n,i),v=!0,f||(h=u(n,"click",e[2]),f=!0)},p:d,i(e){v||(b(o.$$.fragment,e),v=!0)},o(e){$(o.$$.fragment,e),v=!1},d(e){e&&p(t),k(o),f=!1,h()}}}function Z(e){let t,n,s,o,r=e[0]&&G(e);return{c(){r&&r.c(),t=C()},m(i,l){r&&r.m(i,l),c(i,t,l),n=!0,s||(o=[u(window,"beforeinstallprompt",x(e[1])),u(window,"appinstalled",x(e[3]))],s=!0)},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&b(r,1)):(r=G(e),r.c(),b(r,1),r.m(t.parentNode,t)):r&&(A(),$(r,1,1,(()=>{r=null})),L())},i(e){n||(b(r),n=!0)},o(e){$(r),n=!1},d(e){r&&r.d(e),e&&p(t),s=!1,v(o)}}}function H(e,t,n){let s,o=!1;return[o,e=>{s=e,n(0,o=!0)},()=>{n(0,o=!1),s.prompt(),s.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),s=null})).catch(console.error)},()=>{s=null,console.log("PWA was installed")}]}class F extends o{constructor(e){super(),r(this,e,H,Z,i,{})}}function J(e){let t,n,s,o,r,i;return{c(){t=h("svg"),n=h("g"),s=h("path"),o=h("path"),r=h("path"),i=h("path"),a(s,"fill","#4285F4"),a(s,"d","M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"),a(o,"fill","#34A853"),a(o,"d","M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"),a(r,"fill","#FBBC05"),a(r,"d","M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"),a(i,"fill","#EA4335"),a(i,"d","M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"),a(n,"transform","matrix(1, 0, 0, 1, 27.009001, -39.238998)"),a(t,"width","100%"),a(t,"height","100%"),a(t,"viewBox","0 0 24 24"),a(t,"fill","none"),a(t,"stroke","none"),a(t,"xmlns","http://www.w3.org/2000/svg")},m(e,l){c(e,t,l),g(t,n),g(n,s),g(n,o),g(n,r),g(n,i)},p:d,i:d,o:d,d(e){e&&p(t)}}}class Y extends o{constructor(e){super(),r(this,e,null,J,i,{})}}function Q(e){let t,n,s,o,r,i,v,f;return s=new Y({}),{c(){t=l("div"),n=l("div"),w(s.$$.fragment),o=m(),r=l("div"),r.textContent="Google hesabı ile giriş yap",a(n,"class","icon svelte-1l3zmaw"),a(r,"class","text svelte-1l3zmaw"),a(t,"class","btn svelte-1l3zmaw")},m(e,l){c(e,t,l),g(t,n),y(s,n,null),g(t,o),g(t,r),i=!0,v||(f=u(t,"click",B.signIn),v=!0)},p:d,i(e){i||(b(s.$$.fragment,e),i=!0)},o(e){$(s.$$.fragment,e),i=!1},d(e){e&&p(t),k(s),v=!1,f()}}}function X(e){let t,n,s;return{c(){t=l("input"),a(t,"type","button"),t.value="Çıkış",a(t,"class","svelte-1l3zmaw")},m(e,o){c(e,t,o),n||(s=u(t,"click",B.signOut),n=!0)},p:d,i:d,o:d,d(e){e&&p(t),n=!1,s()}}}function ee(e){let t;return{c(){t=S("...")},m(e,n){c(e,t,n)},p:d,i:d,o:d,d(e){e&&p(t)}}}function te(e){let t,n,s,o;const r=[ee,X,Q],i=[];function u(e,t){return"unknown"===e[0].status?0:e[0].user?1:2}return n=u(e),s=i[n]=r[n](e),{c(){t=l("div"),s.c(),a(t,"class","wrapper svelte-1l3zmaw")},m(e,s){c(e,t,s),i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=u(e),n===l?i[n].p(e,o):(A(),$(i[l],1,1,(()=>{i[l]=null})),L(),s=i[n],s?s.p(e,o):(s=i[n]=r[n](e),s.c()),b(s,1),s.m(t,null))},i(e){o||(b(s),o=!0)},o(e){$(s),o=!1},d(e){e&&p(t),i[n].d()}}}function ne(e,t,n){let s;return f(e,B,(e=>n(0,s=e))),e.$$.update=()=>{1&e.$$.dirty&&console.log(s)},[s]}class se extends o{constructor(e){super(),r(this,e,ne,te,i,{})}}function oe(e){var t,n,s,o,r,i,u;let v,f,h,w,y,b,$,k,C,x,A,L,_,D,I,K,P,j,B,O,z,U,R,q,M,T,V,W,G,Z,H,F,J,Y,Q,X,ee,te,ne,se,oe=(null==(t=e[0])?void 0:t.uid)+"",re=(null==(n=e[0])?void 0:n.displayName)+"",ie=(null==(s=e[0])?void 0:s.email)+"",le=(null==(o=e[0])?void 0:o.emailVerified)+"",ae=(null==(r=e[0])?void 0:r.photoURL)+"",ce=(null==(i=e[0])?void 0:i.isAnonymous)+"",ue=JSON.stringify(null==(u=e[0])?void 0:u.providerData)+"";return{c(){var t;v=l("section"),f=l("img"),w=m(),y=l("h1"),y.textContent="Kullanıcı Profili",b=m(),$=l("p"),k=l("b"),k.textContent="uid:",C=m(),x=S(oe),A=m(),L=l("p"),_=l("b"),_.textContent="displayName:",D=m(),I=S(re),K=m(),P=l("p"),j=l("b"),j.textContent="email:",B=m(),O=S(ie),z=m(),U=l("p"),R=l("b"),R.textContent="emailVerified:",q=m(),M=S(le),T=m(),V=l("p"),W=l("b"),W.textContent="photoURL:",G=m(),Z=S(ae),H=m(),F=l("p"),J=l("b"),J.textContent="isAnonymous:",Y=m(),Q=S(ce),X=m(),ee=l("p"),te=l("b"),te.textContent="providerData:",ne=m(),se=S(ue),E(f.src,h=null==(t=e[0])?void 0:t.photoURL)||a(f,"src",h),a(f,"alt","Profil Resmi")},m(e,t){c(e,v,t),g(v,f),g(v,w),g(v,y),g(v,b),g(v,$),g($,k),g($,C),g($,x),g(v,A),g(v,L),g(L,_),g(L,D),g(L,I),g(v,K),g(v,P),g(P,j),g(P,B),g(P,O),g(v,z),g(v,U),g(U,R),g(U,q),g(U,M),g(v,T),g(v,V),g(V,W),g(V,G),g(V,Z),g(v,H),g(v,F),g(F,J),g(F,Y),g(F,Q),g(v,X),g(v,ee),g(ee,te),g(ee,ne),g(ee,se)},p(e,[t]){var n,s,o,r,i,l,c,u;1&t&&!E(f.src,h=null==(n=e[0])?void 0:n.photoURL)&&a(f,"src",h),1&t&&oe!==(oe=(null==(s=e[0])?void 0:s.uid)+"")&&N(x,oe),1&t&&re!==(re=(null==(o=e[0])?void 0:o.displayName)+"")&&N(I,re),1&t&&ie!==(ie=(null==(r=e[0])?void 0:r.email)+"")&&N(O,ie),1&t&&le!==(le=(null==(i=e[0])?void 0:i.emailVerified)+"")&&N(M,le),1&t&&ae!==(ae=(null==(l=e[0])?void 0:l.photoURL)+"")&&N(Z,ae),1&t&&ce!==(ce=(null==(c=e[0])?void 0:c.isAnonymous)+"")&&N(Q,ce),1&t&&ue!==(ue=JSON.stringify(null==(u=e[0])?void 0:u.providerData)+"")&&N(se,ue)},i:d,o:d,d(e){e&&p(v)}}}function re(e,t,n){let{user:s}=t;return e.$$set=e=>{"user"in e&&n(0,s=e.user)},[s]}class ie extends o{constructor(e){super(),r(this,e,re,oe,i,{user:0})}}function le(e){let t,n,s,o,r,i,d,g;return t=new T({}),r=new ie({props:{user:e[0].user}}),{c(){w(t.$$.fragment),n=m(),s=l("input"),o=m(),w(r.$$.fragment),a(s,"type","button"),s.value="Test Push Notification"},m(l,a){y(t,l,a),c(l,n,a),c(l,s,a),c(l,o,a),y(r,l,a),i=!0,d||(g=u(s,"click",e[1]),d=!0)},p(e,t){const n={};1&t&&(n.user=e[0].user),r.$set(n)},i(e){i||(b(t.$$.fragment,e),b(r.$$.fragment,e),i=!0)},o(e){$(t.$$.fragment,e),$(r.$$.fragment,e),i=!1},d(e){k(t,e),e&&p(n),e&&p(s),e&&p(o),k(r,e),d=!1,g()}}}function ae(e){let t,n,s,o,r,i,u,d,v,f,h,C;t=new F({}),f=new se({});let x=e[0].user&&le(e);return{c(){w(t.$$.fragment),n=m(),s=l("main"),o=l("div"),o.innerHTML='<img src="../icon/icon192.png" alt="KoopKit Logo"/>',r=m(),i=l("h1"),i.textContent="KoopKit",u=m(),d=l("p"),d.textContent="Kooperatif Destek Kiti",v=m(),w(f.$$.fragment),h=m(),x&&x.c(),a(o,"class","logo svelte-10ncqi8"),a(i,"class","svelte-10ncqi8"),a(d,"class","svelte-10ncqi8"),a(s,"class","svelte-10ncqi8")},m(e,l){y(t,e,l),c(e,n,l),c(e,s,l),g(s,o),g(s,r),g(s,i),g(s,u),g(s,d),g(s,v),y(f,s,null),g(s,h),x&&x.m(s,null),C=!0},p(e,[t]){e[0].user?x?(x.p(e,t),1&t&&b(x,1)):(x=le(e),x.c(),b(x,1),x.m(s,null)):x&&(A(),$(x,1,1,(()=>{x=null})),L())},i(e){C||(b(t.$$.fragment,e),b(f.$$.fragment,e),b(x),C=!0)},o(e){$(t.$$.fragment,e),$(f.$$.fragment,e),$(x),C=!1},d(e){k(t,e),e&&p(n),e&&p(s),k(f),x&&x.d()}}}function ce(e,t,n){let s;f(e,B,(e=>n(0,s=e)));const o={body:"Burası bildirim gövdesi!",icon:"icon/icon192.png",badge:"icon/badge.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1}},r=()=>D((()=>import("./notification.js")),[]).then((({notification:e})=>e("Hey Selamlar!",o)));return[s,()=>{"granted"==Notification.permission?r():Notification.requestPermission().then((e=>{"granted"===e&&r()})).catch(console.error)}]}D((()=>import("./register.js")),[]).then((({register:e})=>e())).catch(console.error),new class extends o{constructor(e){super(),r(this,e,ce,ae,i,{})}}({target:document.getElementById("app")});
