import{f as e,G as t,w as n,S as s,i as o,s as r,e as i,a as l,b as a,l as c,n as u,d,c as p,g,r as m,h as v,j as f,k as h,m as b,t as y,o as w,p as k,q as $,u as C,v as x,x as L,y as A,z as S,A as E}from"./vendor.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const N={};e.initializeApp({apiKey:"AIzaSyD-pzp1xZtmduu3mjWD77pVgGBKhNF1n30",authDomain:"koopkit-c38c2.firebaseapp.com",projectId:"koopkit-c38c2",storageBucket:"koopkit-c38c2.appspot.com",messagingSenderId:"1065077530630",appId:"1:1065077530630:web:165285110dcd11c0446387",measurementId:"G-4TSBJTR9KW"});const j=e.auth(),K=new e.auth.GoogleAuthProvider,P=t(),D=P.user().recall({sessionStorage:!0}),I=(e=>{const{subscribe:t,set:s,update:o}=n(e);return j.onAuthStateChanged((e=>{s(e?{status:"firebase-signed-in",user:e}:{status:"firebase-signed-out",user:null})})),{subscribe:t,set:s,update:o,signIn:()=>(j.languageCode="tr",j.signInWithPopup(K).then((e=>e.user)).catch(console.error)).then((e=>{e&&s({status:"firebase-signed-in",user:e})})).catch(console.error),signOut:()=>j.signOut().then((()=>s({status:"firebase-signed-out",user:null}))).catch(console.error)}})({status:"firebase-unknown",user:null}),U=(e=>{const{subscribe:t,set:s,update:o}=n(e);return D._.sea&&s({status:"gun-signed-in",user:D}),P.on("auth",(()=>{console.log("on auth çalıştı"),s({status:"gun-signed-in",user:D})})),{subscribe:t,set:s,update:o,login:(e,t)=>(async(e,t)=>{console.log("user._",D._);const n=()=>{let s=!1;return console.log("Trying login with pin:",t),D.auth(e,t,(o=>{o.err&&"Wrong user or password."===o.err?D.create(e,t,(e=>{e.err&&"User already created!"===e.err||(e.pub?(console.log("User Not Exists! Now created."),n()):console.log("Unknown error while login!"))})):"User is already being created or authenticated!"===o.err?s=!0:(console.log("başka bi hata var:",o),s=!1)})),s};return n()})(e,t).catch(console.error),logout:()=>(async()=>{D.leave(),setTimeout((()=>{void 0===D._.sea&&console.log("Logged Out")}),200)})().then((()=>s({status:"gun-signed-out",user:null}))).catch(console.error)}})({status:"gun-unknown",user:null});function B(e){let t,n,s;return{c(){t=i("input"),l(t,"type","text"),l(t,"placeholder","epub key"),l(t,"class","svelte-og684i")},m(o,r){a(o,t,r),n||(s=c(t,"input",e[8]),n=!0)},p:u,d(e){e&&d(t),n=!1,s()}}}function O(e){let t,n,s,o,r,v,f,h,b,y,w,k,$,C,x,L,A,S,E=e[2]&&B(e);return{c(){t=i("div"),n=i("textarea"),s=p(),o=i("div"),r=i("div"),v=i("label"),v.textContent="Decrypt an incoming message or send an encrypted one:",f=p(),h=i("input"),b=p(),E&&E.c(),y=p(),w=i("div"),k=i("input"),C=p(),x=i("input"),l(n,"rows","4"),n.value=e[0],l(n,"class","svelte-og684i"),l(v,"for","epubCheck"),l(h,"type","checkbox"),l(h,"name","epubCheck"),l(h,"id","epubCheck"),l(r,"class","check svelte-og684i"),l(o,"class","outMessage svelte-og684i"),l(k,"type","button"),k.disabled=$=""===e[0],k.value="Encrypt",l(k,"class","svelte-og684i"),l(x,"type","button"),x.disabled=L=""===e[0],x.value="Decrypt",l(x,"class","svelte-og684i"),l(t,"class","wrapper svelte-og684i")},m(i,l){a(i,t,l),g(t,n),g(t,s),g(t,o),g(o,r),g(r,v),g(r,f),g(r,h),g(o,b),E&&E.m(o,null),g(t,y),g(t,w),g(w,k),g(w,C),g(w,x),A||(S=[c(n,"input",e[3]),c(h,"click",e[7]),c(k,"click",e[4]),c(x,"click",e[5])],A=!0)},p(e,[t]){1&t&&(n.value=e[0]),e[2]?E?E.p(e,t):(E=B(e),E.c(),E.m(o,null)):E&&(E.d(1),E=null),1&t&&$!==($=""===e[0])&&(k.disabled=$),1&t&&L!==(L=""===e[0])&&(x.disabled=L)},i:u,o:u,d(e){e&&d(t),E&&E.d(),A=!1,m(S)}}}function _(e,t,n){let s,o;v(e,U,(e=>n(6,o=e)));let r="",i="",l="",a=!1;return e.$$.update=()=>{64&e.$$.dirty&&(s=o.user._.sea)},[r,l,a,e=>{n(0,r=e.target.value),i=r},async e=>{if(console.log("pair",s),a){let e=await SEA.encrypt(r,await SEA.secret(l,s)),t=await SEA.sign(e,s);n(0,r=t)}else{let e=await SEA.encrypt(r,s),t=await SEA.sign(e,s);n(0,r=t)}},async e=>{if(a){let e=await SEA.verify(r,s.pub),t=await SEA.decrypt(e,await SEA.secret(l,s));n(0,r=t)}else{let e=await SEA.verify(r,s.pub),t=await SEA.decrypt(e,s);await SEA.work(t,s)===await SEA.work(i,s)&&n(0,r=t)}},o,e=>n(2,a=e.target.checked),e=>n(1,l=e.target.value)]}class z extends s{constructor(e){super(),o(this,e,_,O,r,{})}}function R(e){let t,n;return{c(){t=f("svg"),n=f("path"),l(n,"stroke-linecap","round"),l(n,"stroke-linejoin","round"),l(n,"stroke-width","2"),l(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),l(t,"width","100%"),l(t,"height","100%"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"xmlns","http://www.w3.org/2000/svg")},m(e,s){a(e,t,s),g(t,n)},p:u,i:u,o:u,d(e){e&&d(t)}}}class M extends s{constructor(e){super(),o(this,e,null,R,r,{})}}function T(e){let t,n,s,o,r,m,v,f,$;return o=new M({}),{c(){t=i("div"),n=i("div"),s=i("div"),h(o.$$.fragment),r=p(),m=i("div"),m.textContent="Bu Cihaza Yükle",l(s,"class","icon svelte-usjklv"),l(m,"class","text svelte-usjklv"),l(n,"class","btn svelte-usjklv"),l(t,"class","wrapper svelte-usjklv")},m(i,l){a(i,t,l),g(t,n),g(n,s),b(o,s,null),g(n,r),g(n,m),v=!0,f||($=c(n,"click",e[2]),f=!0)},p:u,i(e){v||(y(o.$$.fragment,e),v=!0)},o(e){w(o.$$.fragment,e),v=!1},d(e){e&&d(t),k(o),f=!1,$()}}}function G(e){let t,n,s,o,r=e[0]&&T(e);return{c(){r&&r.c(),t=$()},m(i,l){r&&r.m(i,l),a(i,t,l),n=!0,s||(o=[c(window,"beforeinstallprompt",C(e[1])),c(window,"appinstalled",C(e[3]))],s=!0)},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&y(r,1)):(r=T(e),r.c(),y(r,1),r.m(t.parentNode,t)):r&&(x(),w(r,1,1,(()=>{r=null})),L())},i(e){n||(y(r),n=!0)},o(e){w(r),n=!1},d(e){r&&r.d(e),e&&d(t),s=!1,m(o)}}}function V(e,t,n){let s,o=!1;return[o,e=>{s=e,n(0,o=!0)},()=>{n(0,o=!1),s.prompt(),s.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),s=null})).catch(console.error)},()=>{s=null,console.log("PWA was installed")}]}class W extends s{constructor(e){super(),o(this,e,V,G,r,{})}}function Z(e){let t,n,s,o,r,i;return{c(){t=f("svg"),n=f("g"),s=f("path"),o=f("path"),r=f("path"),i=f("path"),l(s,"fill","#4285F4"),l(s,"d","M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"),l(o,"fill","#34A853"),l(o,"d","M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"),l(r,"fill","#FBBC05"),l(r,"d","M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"),l(i,"fill","#EA4335"),l(i,"d","M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"),l(n,"transform","matrix(1, 0, 0, 1, 27.009001, -39.238998)"),l(t,"width","100%"),l(t,"height","100%"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","none"),l(t,"xmlns","http://www.w3.org/2000/svg")},m(e,l){a(e,t,l),g(t,n),g(n,s),g(n,o),g(n,r),g(n,i)},p:u,i:u,o:u,d(e){e&&d(t)}}}class q extends s{constructor(e){super(),o(this,e,null,Z,r,{})}}function F(e){let t,n,s,o,r,m,v,f;return s=new q({}),{c(){t=i("div"),n=i("div"),h(s.$$.fragment),o=p(),r=i("div"),r.textContent="Google hesabı ile giriş yap",l(n,"class","icon svelte-zvv0mb"),l(r,"class","text svelte-zvv0mb"),l(t,"class","btn svelte-zvv0mb")},m(e,i){a(e,t,i),g(t,n),b(s,n,null),g(t,o),g(t,r),m=!0,v||(f=c(t,"click",I.signIn),v=!0)},p:u,i(e){m||(y(s.$$.fragment,e),m=!0)},o(e){w(s.$$.fragment,e),m=!1},d(e){e&&d(t),k(s),v=!1,f()}}}function H(e){let t,n="gun-signed-in"!==e[1].user&&Y(e);return{c(){n&&n.c(),t=$()},m(e,s){n&&n.m(e,s),a(e,t,s)},p(e,s){"gun-signed-in"!==e[1].user?n?n.p(e,s):(n=Y(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:u,o:u,d(e){n&&n.d(e),e&&d(t)}}}function J(e){let t;return{c(){t=A("...")},m(e,n){a(e,t,n)},p:u,i:u,o:u,d(e){e&&d(t)}}}function Y(e){let t,n,s,o;return{c(){t=A("LÜTFEN PİN GİRİN\r\n      "),n=i("button"),n.textContent="Girdim say"},m(r,i){a(r,t,i),a(r,n,i),s||(o=c(n,"click",e[2]),s=!0)},p:u,d(e){e&&d(t),e&&d(n),s=!1,o()}}}function Q(e){let t,n,s,o;const r=[J,H,F],c=[];function u(e,t){return"firebase-unknown"===e[0].status?0:"firebase-signed-in"===e[0].status?1:"firebase-signed-out"===e[0].status?2:-1}return~(n=u(e))&&(s=c[n]=r[n](e)),{c(){t=i("div"),s&&s.c(),l(t,"class","wrapper svelte-zvv0mb")},m(e,s){a(e,t,s),~n&&c[n].m(t,null),o=!0},p(e,[o]){let i=n;n=u(e),n===i?~n&&c[n].p(e,o):(s&&(x(),w(c[i],1,1,(()=>{c[i]=null})),L()),~n?(s=c[n],s?s.p(e,o):(s=c[n]=r[n](e),s.c()),y(s,1),s.m(t,null)):s=null)},i(e){o||(y(s),o=!0)},o(e){w(s),o=!1},d(e){e&&d(t),~n&&c[n].d()}}}function X(e,t,n){let s,o;v(e,I,(e=>n(0,s=e))),v(e,U,(e=>n(1,o=e)));return[s,o,()=>U.login(s.user.uid,"1234")]}class ee extends s{constructor(e){super(),o(this,e,X,Q,r,{})}}function te(e){var t,n,s,o,r,c,m;let v,f,h,b,y,w,k,$,C,x,L,N,j,K,P,D,I,U,B,O,_,z,R,M,T,G,V,W,Z,q,F,H,J,Y,Q,X,ee,te,ne,se,oe,re,ie=(null==(t=e[0])?void 0:t.uid)+"",le=(null==(n=e[0])?void 0:n.displayName)+"",ae=(null==(s=e[0])?void 0:s.email)+"",ce=(null==(o=e[0])?void 0:o.emailVerified)+"",ue=(null==(r=e[0])?void 0:r.photoURL)+"",de=(null==(c=e[0])?void 0:c.isAnonymous)+"",pe=JSON.stringify(null==(m=e[0])?void 0:m.providerData)+"";return{c(){var t;v=i("section"),f=i("div"),h=i("img"),y=p(),w=i("h1"),w.textContent="Kullanıcı Profili",k=p(),$=i("div"),C=i("p"),x=i("b"),x.textContent="uid:",L=p(),N=A(ie),j=p(),K=i("p"),P=i("b"),P.textContent="displayName:",D=p(),I=A(le),U=p(),B=i("p"),O=i("b"),O.textContent="email:",_=p(),z=A(ae),R=p(),M=i("p"),T=i("b"),T.textContent="emailVerified:",G=p(),V=A(ce),W=p(),Z=i("p"),q=i("b"),q.textContent="photoURL:",F=p(),H=A(ue),J=p(),Y=i("p"),Q=i("b"),Q.textContent="isAnonymous:",X=p(),ee=A(de),te=p(),ne=i("p"),se=i("b"),se.textContent="providerData:",oe=p(),re=A(pe),S(h.src,b=null==(t=e[0])?void 0:t.photoURL)||l(h,"src",b),l(h,"alt","Profil Resmi"),l(h,"class","svelte-kbd67g"),l(f,"class","pp svelte-kbd67g"),l(C,"class","svelte-kbd67g"),l(K,"class","svelte-kbd67g"),l(B,"class","svelte-kbd67g"),l(M,"class","svelte-kbd67g"),l(Z,"class","svelte-kbd67g"),l(Y,"class","svelte-kbd67g"),l(ne,"class","svelte-kbd67g"),l(v,"class","svelte-kbd67g")},m(e,t){a(e,v,t),g(v,f),g(f,h),g(v,y),g(v,w),g(v,k),g(v,$),g($,C),g(C,x),g(C,L),g(C,N),g($,j),g($,K),g(K,P),g(K,D),g(K,I),g($,U),g($,B),g(B,O),g(B,_),g(B,z),g($,R),g($,M),g(M,T),g(M,G),g(M,V),g($,W),g($,Z),g(Z,q),g(Z,F),g(Z,H),g($,J),g($,Y),g(Y,Q),g(Y,X),g(Y,ee),g($,te),g($,ne),g(ne,se),g(ne,oe),g(ne,re)},p(e,[t]){var n,s,o,r,i,a,c,u;1&t&&!S(h.src,b=null==(n=e[0])?void 0:n.photoURL)&&l(h,"src",b),1&t&&ie!==(ie=(null==(s=e[0])?void 0:s.uid)+"")&&E(N,ie),1&t&&le!==(le=(null==(o=e[0])?void 0:o.displayName)+"")&&E(I,le),1&t&&ae!==(ae=(null==(r=e[0])?void 0:r.email)+"")&&E(z,ae),1&t&&ce!==(ce=(null==(i=e[0])?void 0:i.emailVerified)+"")&&E(V,ce),1&t&&ue!==(ue=(null==(a=e[0])?void 0:a.photoURL)+"")&&E(H,ue),1&t&&de!==(de=(null==(c=e[0])?void 0:c.isAnonymous)+"")&&E(ee,de),1&t&&pe!==(pe=JSON.stringify(null==(u=e[0])?void 0:u.providerData)+"")&&E(re,pe)},i:u,o:u,d(e){e&&d(v)}}}function ne(e,t,n){let s,o;return v(e,I,(e=>n(1,o=e))),e.$$.update=()=>{2&e.$$.dirty&&n(0,s=o.user)},[s,o]}class se extends s{constructor(e){super(),o(this,e,ne,te,r,{})}}function oe(e){let t,n;return t=new ee({}),{c(){h(t.$$.fragment)},m(e,s){b(t,e,s),n=!0},p:u,i(e){n||(y(t.$$.fragment,e),n=!0)},o(e){w(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function re(e){let t,n,s,o,r,g,v,f,$,C;return t=new z({}),r=new se({}),{c(){h(t.$$.fragment),n=p(),s=i("input"),o=p(),h(r.$$.fragment),g=p(),v=i("input"),l(s,"type","button"),s.value="Test Push Notification",l(s,"class","svelte-jfshua"),l(v,"type","button"),v.value="Çıkış",l(v,"class","svelte-jfshua")},m(i,l){b(t,i,l),a(i,n,l),a(i,s,l),a(i,o,l),b(r,i,l),a(i,g,l),a(i,v,l),f=!0,$||(C=[c(s,"click",e[1]),c(v,"click",e[2])],$=!0)},p:u,i(e){f||(y(t.$$.fragment,e),y(r.$$.fragment,e),f=!0)},o(e){w(t.$$.fragment,e),w(r.$$.fragment,e),f=!1},d(e){k(t,e),e&&d(n),e&&d(s),e&&d(o),k(r,e),e&&d(g),e&&d(v),$=!1,m(C)}}}function ie(e){let t,n,s,o,r,c,u,m,v,f,$,C;t=new W({});const A=[re,oe],S=[];function E(e,t){return e[0]?0:1}return f=E(e),$=S[f]=A[f](e),{c(){h(t.$$.fragment),n=p(),s=i("main"),o=i("div"),o.innerHTML='<img src="../icon/icon192.png" alt="KoopKit Logo"/>',r=p(),c=i("h1"),c.textContent="KoopKit",u=p(),m=i("p"),m.textContent="Kooperatif Destek Kiti",v=p(),$.c(),l(o,"class","logo svelte-jfshua"),l(c,"class","svelte-jfshua"),l(m,"class","svelte-jfshua"),l(s,"class","svelte-jfshua")},m(e,i){b(t,e,i),a(e,n,i),a(e,s,i),g(s,o),g(s,r),g(s,c),g(s,u),g(s,m),g(s,v),S[f].m(s,null),C=!0},p(e,[t]){let n=f;f=E(e),f===n?S[f].p(e,t):(x(),w(S[n],1,1,(()=>{S[n]=null})),L(),$=S[f],$?$.p(e,t):($=S[f]=A[f](e),$.c()),y($,1),$.m(s,null))},i(e){C||(y(t.$$.fragment,e),y($),C=!0)},o(e){w(t.$$.fragment,e),w($),C=!1},d(e){k(t,e),e&&d(n),e&&d(s),S[f].d()}}}function le(e,t,n){let s,o,r;v(e,U,(e=>n(3,o=e))),v(e,I,(e=>n(4,r=e)));const i={body:"Burası bildirim gövdesi!",icon:"icon/icon192.png",badge:"icon/badge.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1}},l=()=>{return(e=()=>import("./notification.js"),t=[],t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in N)return;N[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((e,t)=>{s.addEventListener("load",e),s.addEventListener("error",t)})):void 0}))).then((()=>e())):e()).then((({notification:e})=>e("Hey Selamlar!",i)));var e,t};return e.$$.update=()=>{24&e.$$.dirty&&(console.log(r),console.log(o)),24&e.$$.dirty&&n(0,s="firebase-signed-in"===r.status&&"gun-signed-in"===o.status)},[s,()=>{"granted"==Notification.permission?l():Notification.requestPermission().then((e=>{"granted"===e&&l()})).catch(console.error)},()=>{I.signOut(),U.logout()},o,r]}new class extends s{constructor(e){super(),o(this,e,le,ie,r,{})}}({target:document.getElementById("app")});
