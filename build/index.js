var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,i=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&o(e,n,t[n]);if(s)for(var n of s(t))r.call(t,n)&&o(e,n,t[n]);return e};import{w as a,S as c,i as u,s as d,e as p,a as v,b as g,l as m,n as f,d as h,c as y,f as b,r as w,g as $,h as k,j as x,m as C,t as L,k as A,o as S,p as E,q as P,u as O,v as U,x as j,y as D,z,A as N,B as K,C as I,D as B,E as M,F as R}from"./vendor.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const G={};firebase.initializeApp({apiKey:"AIzaSyD-pzp1xZtmduu3mjWD77pVgGBKhNF1n30",authDomain:"koopkit-c38c2.firebaseapp.com",projectId:"koopkit-c38c2",storageBucket:"koopkit-c38c2.appspot.com",messagingSenderId:"1065077530630",appId:"1:1065077530630:web:165285110dcd11c0446387",measurementId:"G-4TSBJTR9KW"});const T=firebase.auth(),_=new firebase.auth.GoogleAuthProvider,V=()=>(T.languageCode="tr",T.signInWithPopup(_)),W=()=>T.signOut(),q=Gun(),H=q.user().recall({sessionStorage:!0}),Z=(e=>{const{subscribe:s,set:l,update:r}=a(e);return T.onAuthStateChanged((e=>{r((e=>{return s=i({},e),t(s,n({loading:!1}));var s})),e?(console.log("firebase sign in"),r((e=>i({},e)))):(console.log("firebase sign out"),r((e=>i({},e))))})),{subscribe:s,signIn:()=>V().catch(console.error),signOut:()=>W().catch(console.error)}})({auth:T,signIn:V,signOut:W,loading:!0}),F=(e=>{const{subscribe:t,set:n,update:s}=a(e);return H._.sea&&n({status:"signed-in",user:H}),q.on("auth",(()=>{console.log("on auth çalıştı"),n({status:"signed-in",user:H})})),{subscribe:t,login:(e,t)=>{n({status:"unknown",user:null}),((e,t)=>new Promise(((n,s)=>{var l;(null==(l=null==H?void 0:H._)?void 0:l.sea)&&n(!0),console.log("Trying login with pin:",t),H.auth(e,t,(s=>{s.err&&"Wrong user or password."===s.err?H.create(e,t,(s=>{s.err&&"User already created!"===s.err?n(!1):s.pub?(console.log("User Not Exists! Now created."),H.auth(e,t,(()=>n(!0)))):console.log("Unknown error while login!")})):"User is already being created or authenticated!"===s.err||(console.log("gun giriş başarılı. bilinen bir hata yok.",s),n(!0))}))})))(e,t).then((e=>!1===e&&n({status:"wrong-pin",user:null}))).catch(console.error)},logout:()=>(async()=>{H.leave(),setTimeout((()=>{void 0===H._.sea&&console.log("Logged Out")}),200)})().then((()=>n({status:"signed-out",user:null}))).catch(console.error)}})({status:"unknown",user:null});function J(e){let t,n,s;return{c(){t=p("input"),v(t,"type","text"),v(t,"placeholder","epub key"),v(t,"class","svelte-1pwy234")},m(l,r){g(l,t,r),n||(s=m(t,"input",e[8]),n=!0)},p:f,d(e){e&&h(t),n=!1,s()}}}function Y(e){let t,n,s,l,r,o,i,a,c,u,d,$,k,x,C,L,A,S,E,P,O=e[2]&&J(e);return{c(){t=p("div"),n=p("label"),n.textContent="Encrypt / Decrypt Text:",s=y(),l=p("textarea"),r=y(),o=p("div"),i=p("div"),a=p("label"),a.textContent="Decrypt an incoming message or send an encrypted one:",c=y(),u=p("input"),d=y(),O&&O.c(),$=y(),k=p("div"),x=p("input"),L=y(),A=p("input"),v(n,"for","enctext"),v(l,"id","enctext"),v(l,"rows","4"),l.value=e[0],v(l,"class","svelte-1pwy234"),v(a,"for","epubCheck"),v(u,"type","checkbox"),v(u,"name","epubCheck"),v(u,"id","epubCheck"),v(i,"class","check svelte-1pwy234"),v(o,"class","outMessage svelte-1pwy234"),v(x,"type","button"),x.disabled=C=""===e[0],x.value="Encrypt",v(x,"class","svelte-1pwy234"),v(A,"type","button"),A.disabled=S=""===e[0],A.value="Decrypt",v(A,"class","svelte-1pwy234"),v(t,"class","wrapper svelte-1pwy234")},m(p,v){g(p,t,v),b(t,n),b(t,s),b(t,l),b(t,r),b(t,o),b(o,i),b(i,a),b(i,c),b(i,u),b(o,d),O&&O.m(o,null),b(t,$),b(t,k),b(k,x),b(k,L),b(k,A),E||(P=[m(l,"input",e[3]),m(u,"click",e[7]),m(x,"click",e[4]),m(A,"click",e[5])],E=!0)},p(e,[t]){1&t&&(l.value=e[0]),e[2]?O?O.p(e,t):(O=J(e),O.c(),O.m(o,null)):O&&(O.d(1),O=null),1&t&&C!==(C=""===e[0])&&(x.disabled=C),1&t&&S!==(S=""===e[0])&&(A.disabled=S)},i:f,o:f,d(e){e&&h(t),O&&O.d(),E=!1,w(P)}}}function Q(e,t,n){let s,l;$(e,F,(e=>n(6,l=e)));let r="",o="",i="",a=!1;return e.$$.update=()=>{64&e.$$.dirty&&(s=l.user._.sea)},[r,i,a,e=>{n(0,r=e.target.value),o=r},async e=>{if(console.log("pair",s),a){let e=await SEA.encrypt(r,await SEA.secret(i,s)),t=await SEA.sign(e,s);n(0,r=t)}else{let e=await SEA.encrypt(r,s),t=await SEA.sign(e,s);n(0,r=t)}},async e=>{if(a){let e=await SEA.verify(r,s.pub),t=await SEA.decrypt(e,await SEA.secret(i,s));n(0,r=t)}else{let e=await SEA.verify(r,s.pub),t=await SEA.decrypt(e,s);await SEA.work(t,s)===await SEA.work(o,s)&&n(0,r=t)}},l,e=>n(2,a=e.target.checked),e=>n(1,i=e.target.value)]}class X extends c{constructor(e){super(),u(this,e,Q,Y,d,{})}}function ee(e){let t,n;return{c(){t=k("svg"),n=k("path"),v(n,"stroke-linecap","round"),v(n,"stroke-linejoin","round"),v(n,"stroke-width","2"),v(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),v(t,"width","100%"),v(t,"height","100%"),v(t,"viewBox","0 0 24 24"),v(t,"fill","none"),v(t,"stroke","currentColor"),v(t,"xmlns","http://www.w3.org/2000/svg")},m(e,s){g(e,t,s),b(t,n)},p:f,i:f,o:f,d(e){e&&h(t)}}}class te extends c{constructor(e){super(),u(this,e,null,ee,d,{})}}function ne(e){let t,n,s,l,r,o,i,a,c;return l=new te({}),{c(){t=p("div"),n=p("div"),s=p("div"),x(l.$$.fragment),r=y(),o=p("div"),o.textContent="Bu Cihaza Yükle",v(s,"class","icon svelte-usjklv"),v(o,"class","text svelte-usjklv"),v(n,"class","btn svelte-usjklv"),v(t,"class","wrapper svelte-usjklv")},m(u,d){g(u,t,d),b(t,n),b(n,s),C(l,s,null),b(n,r),b(n,o),i=!0,a||(c=m(n,"click",e[2]),a=!0)},p:f,i(e){i||(L(l.$$.fragment,e),i=!0)},o(e){A(l.$$.fragment,e),i=!1},d(e){e&&h(t),S(l),a=!1,c()}}}function se(e){let t,n,s,l,r=e[0]&&ne(e);return{c(){r&&r.c(),t=E()},m(o,i){r&&r.m(o,i),g(o,t,i),n=!0,s||(l=[m(window,"beforeinstallprompt",P(e[1])),m(window,"appinstalled",P(e[3]))],s=!0)},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&L(r,1)):(r=ne(e),r.c(),L(r,1),r.m(t.parentNode,t)):r&&(O(),A(r,1,1,(()=>{r=null})),U())},i(e){n||(L(r),n=!0)},o(e){A(r),n=!1},d(e){r&&r.d(e),e&&h(t),s=!1,w(l)}}}function le(e,t,n){let s,l=!1;return[l,e=>{s=e,n(0,l=!0)},()=>{n(0,l=!1),s.prompt(),s.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),s=null})).catch(console.error)},()=>{s=null,console.log("PWA was installed")}]}class re extends c{constructor(e){super(),u(this,e,le,se,d,{})}}function oe(e){let t,n,s,l,r,o;return{c(){t=k("svg"),n=k("g"),s=k("path"),l=k("path"),r=k("path"),o=k("path"),v(s,"fill","#4285F4"),v(s,"d","M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"),v(l,"fill","#34A853"),v(l,"d","M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"),v(r,"fill","#FBBC05"),v(r,"d","M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"),v(o,"fill","#EA4335"),v(o,"d","M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"),v(n,"transform","matrix(1, 0, 0, 1, 27.009001, -39.238998)"),v(t,"width","100%"),v(t,"height","100%"),v(t,"viewBox","0 0 24 24"),v(t,"fill","none"),v(t,"stroke","none"),v(t,"xmlns","http://www.w3.org/2000/svg")},m(e,i){g(e,t,i),b(t,n),b(n,s),b(n,l),b(n,r),b(n,o)},p:f,i:f,o:f,d(e){e&&h(t)}}}class ie extends c{constructor(e){super(),u(this,e,null,oe,d,{})}}function ae(e){let t;return{c(){t=p("p"),t.textContent="Hatalı pin! Tekrar Deneyin:",j(t,"color","crimson"),v(t,"class","svelte-1myyhr8")},m(e,n){g(e,t,n)},d(e){e&&h(t)}}}function ce(e){var t;let n,s,l,r,o,i,a,c,u,d,$,k,x,C,L,A,S,E="wrong-pin"===(null==(t=e[4])?void 0:t.status)&&ae();return{c(){var t;n=p("div"),s=p("div"),l=p("div"),r=p("img"),i=y(),a=p("p"),a.textContent="Pin Kodunuz:",c=y(),E&&E.c(),u=y(),d=p("form"),$=p("input"),k=y(),x=p("button"),x.textContent="Giriş",C=y(),L=p("button"),L.textContent="Girdim say",D(r.src,o=null==(t=e[3])?void 0:t.photoURL)||v(r,"src",o),v(r,"alt","Profile Pic"),v(r,"class","svelte-1myyhr8"),v(l,"class","pp svelte-1myyhr8"),v(a,"class","svelte-1myyhr8"),v($,"type","password"),v($,"pattern","[0-9]*"),v($,"inputmode","numeric"),v($,"maxlength","4"),v($,"minlength","4"),v($,"placeholder","Pin"),v($,"title","Pin Kodu 4 haneli ve sadece rakamlardan oluşmalıdır"),$.required=!0,v(x,"type","submit"),v(x,"class","svelte-1myyhr8"),v(d,"class","svelte-1myyhr8"),v(L,"class","svelte-1myyhr8"),v(n,"class","wrapper svelte-1myyhr8")},m(t,o){g(t,n,o),b(n,s),b(s,l),b(l,r),b(s,i),b(s,a),b(s,c),E&&E.m(s,null),b(s,u),b(s,d),b(d,$),e[6]($),b(d,k),b(d,x),b(n,C),b(n,L),A||(S=[m($,"input",e[5]),m($,"focus",e[7]),m(d,"submit",P(e[8])),m(L,"click",e[9])],A=!0)},p(e,[t]){var n,l;8&t&&!D(r.src,o=null==(n=e[3])?void 0:n.photoURL)&&v(r,"src",o),"wrong-pin"===(null==(l=e[4])?void 0:l.status)?E||(E=ae(),E.c(),E.m(s,u)):E&&(E.d(1),E=null)},i:f,o:f,d(t){t&&h(n),E&&E.d(),e[6](null),A=!1,w(S)}}}function ue(e,t,n){let s,l,r;$(e,Z,(e=>n(0,l=e))),$(e,F,(e=>n(4,r=e)));let o,i="";z((()=>o.focus()));return e.$$.update=()=>{var t;1&e.$$.dirty&&n(3,s=null==(t=null==l?void 0:l.auth)?void 0:t.currentUser)},[l,i,o,s,r,e=>{n(1,i=e.target.value.toString())},function(e){N[e?"unshift":"push"]((()=>{o=e,n(2,o)}))},()=>o.select(),()=>{var e;return F.login(null==(e=null==l?void 0:l.auth)?void 0:e.currentUser.uid,`${i}${i}`)},()=>{var e;return F.login(null==(e=null==l?void 0:l.auth)?void 0:e.currentUser.uid,"12341234")}]}class de extends c{constructor(e){super(),u(this,e,ue,ce,d,{})}}function pe(e){let t,n,s="signed-in"!==e[1].status&&me();return{c(){s&&s.c(),t=E()},m(e,l){s&&s.m(e,l),g(e,t,l),n=!0},p(e,n){"signed-in"!==e[1].status?s?2&n&&L(s,1):(s=me(),s.c(),L(s,1),s.m(t.parentNode,t)):s&&(O(),A(s,1,1,(()=>{s=null})),U())},i(e){n||(L(s),n=!0)},o(e){A(s),n=!1},d(e){s&&s.d(e),e&&h(t)}}}function ve(e){let t,n,s,l,r,o,i,a;return s=new ie({}),{c(){t=p("div"),n=p("div"),x(s.$$.fragment),l=y(),r=p("div"),r.textContent="Google hesabı ile giriş yap",v(n,"class","icon svelte-zvv0mb"),v(r,"class","text svelte-zvv0mb"),v(t,"class","btn svelte-zvv0mb")},m(e,c){g(e,t,c),b(t,n),C(s,n,null),b(t,l),b(t,r),o=!0,i||(a=m(t,"click",Z.signIn),i=!0)},p:f,i(e){o||(L(s.$$.fragment,e),o=!0)},o(e){A(s.$$.fragment,e),o=!1},d(e){e&&h(t),S(s),i=!1,a()}}}function ge(e){let t;return{c(){t=K("Yükleniyor...")},m(e,n){g(e,t,n)},p:f,i:f,o:f,d(e){e&&h(t)}}}function me(e){let t,n;return t=new de({}),{c(){x(t.$$.fragment)},m(e,s){C(t,e,s),n=!0},i(e){n||(L(t.$$.fragment,e),n=!0)},o(e){A(t.$$.fragment,e),n=!1},d(e){S(t,e)}}}function fe(e){let t,n,s,l;const r=[ge,ve,pe],o=[];function i(e,t){var n,s,l,r,o;return(null==(n=e[0])?void 0:n.loading)?0:null===(null==(l=null==(s=e[0])?void 0:s.auth)?void 0:l.currentUser)?1:(null==(o=null==(r=e[0])?void 0:r.auth)?void 0:o.currentUser)?2:-1}return~(n=i(e))&&(s=o[n]=r[n](e)),{c(){t=p("div"),s&&s.c(),v(t,"class","wrapper svelte-zvv0mb")},m(e,s){g(e,t,s),~n&&o[n].m(t,null),l=!0},p(e,[l]){let a=n;n=i(e),n===a?~n&&o[n].p(e,l):(s&&(O(),A(o[a],1,1,(()=>{o[a]=null})),U()),~n?(s=o[n],s?s.p(e,l):(s=o[n]=r[n](e),s.c()),L(s,1),s.m(t,null)):s=null)},i(e){l||(L(s),l=!0)},o(e){A(s),l=!1},d(e){e&&h(t),~n&&o[n].d()}}}function he(e,t,n){let s,l;return $(e,Z,(e=>n(0,s=e))),$(e,F,(e=>n(1,l=e))),[s,l]}class ye extends c{constructor(e){super(),u(this,e,he,fe,d,{})}}function be(e){var t,n,s,l,r,o,i;let a,c,u,d,m,w,$,k,x,C,L,A,S,E,P,O,U,j,z,N,B,M,R,G,T,_,V,W,q,H,Z,F,J,Y,Q,X,ee,te,ne,se,le,re,oe=(null==(t=e[0])?void 0:t.uid)+"",ie=(null==(n=e[0])?void 0:n.displayName)+"",ae=(null==(s=e[0])?void 0:s.email)+"",ce=(null==(l=e[0])?void 0:l.emailVerified)+"",ue=(null==(r=e[0])?void 0:r.photoURL)+"",de=(null==(o=e[0])?void 0:o.isAnonymous)+"",pe=JSON.stringify(null==(i=e[0])?void 0:i.providerData)+"";return{c(){var t;a=p("section"),c=p("div"),u=p("img"),m=y(),w=p("h1"),w.textContent="Kullanıcı Profili",$=y(),k=p("div"),x=p("p"),C=p("b"),C.textContent="uid:",L=y(),A=K(oe),S=y(),E=p("p"),P=p("b"),P.textContent="displayName:",O=y(),U=K(ie),j=y(),z=p("p"),N=p("b"),N.textContent="email:",B=y(),M=K(ae),R=y(),G=p("p"),T=p("b"),T.textContent="emailVerified:",_=y(),V=K(ce),W=y(),q=p("p"),H=p("b"),H.textContent="photoURL:",Z=y(),F=K(ue),J=y(),Y=p("p"),Q=p("b"),Q.textContent="isAnonymous:",X=y(),ee=K(de),te=y(),ne=p("p"),se=p("b"),se.textContent="providerData:",le=y(),re=K(pe),D(u.src,d=null==(t=e[0])?void 0:t.photoURL)||v(u,"src",d),v(u,"alt","Profil Resmi"),v(u,"class","svelte-kbd67g"),v(c,"class","pp svelte-kbd67g"),v(x,"class","svelte-kbd67g"),v(E,"class","svelte-kbd67g"),v(z,"class","svelte-kbd67g"),v(G,"class","svelte-kbd67g"),v(q,"class","svelte-kbd67g"),v(Y,"class","svelte-kbd67g"),v(ne,"class","svelte-kbd67g"),v(a,"class","svelte-kbd67g")},m(e,t){g(e,a,t),b(a,c),b(c,u),b(a,m),b(a,w),b(a,$),b(a,k),b(k,x),b(x,C),b(x,L),b(x,A),b(k,S),b(k,E),b(E,P),b(E,O),b(E,U),b(k,j),b(k,z),b(z,N),b(z,B),b(z,M),b(k,R),b(k,G),b(G,T),b(G,_),b(G,V),b(k,W),b(k,q),b(q,H),b(q,Z),b(q,F),b(k,J),b(k,Y),b(Y,Q),b(Y,X),b(Y,ee),b(k,te),b(k,ne),b(ne,se),b(ne,le),b(ne,re)},p(e,[t]){var n,s,l,r,o,i,a,c;1&t&&!D(u.src,d=null==(n=e[0])?void 0:n.photoURL)&&v(u,"src",d),1&t&&oe!==(oe=(null==(s=e[0])?void 0:s.uid)+"")&&I(A,oe),1&t&&ie!==(ie=(null==(l=e[0])?void 0:l.displayName)+"")&&I(U,ie),1&t&&ae!==(ae=(null==(r=e[0])?void 0:r.email)+"")&&I(M,ae),1&t&&ce!==(ce=(null==(o=e[0])?void 0:o.emailVerified)+"")&&I(V,ce),1&t&&ue!==(ue=(null==(i=e[0])?void 0:i.photoURL)+"")&&I(F,ue),1&t&&de!==(de=(null==(a=e[0])?void 0:a.isAnonymous)+"")&&I(ee,de),1&t&&pe!==(pe=JSON.stringify(null==(c=e[0])?void 0:c.providerData)+"")&&I(re,pe)},i:f,o:f,d(e){e&&h(a)}}}function we(e,t,n){let s,l;var r;return $(e,Z,(e=>n(2,l=e))),e.$$.update=()=>{6&e.$$.dirty&&n(0,s=null===n(1,r=null==l?void 0:l.auth)||void 0===r?void 0:r.currentUser)},[s,r,l]}class $e extends c{constructor(e){super(),u(this,e,we,be,d,{})}}function ke(e,t,n){const s=e.slice();return s[7]=t[n],s}function xe(e){let t,n,s,l,r,o,i,a,c,u,d=e[7].date+"",m=e[7].user+"",f=e[7].text+"";return{c(){t=p("div"),n=p("p"),s=K(d),l=y(),r=p("p"),o=K(m),i=y(),a=p("p"),c=K(f),u=y(),v(t,"class","message")},m(e,d){g(e,t,d),b(t,n),b(n,s),b(t,l),b(t,r),b(r,o),b(t,i),b(t,a),b(a,c),b(t,u)},p(e,t){2&t&&d!==(d=e[7].date+"")&&I(s,d),2&t&&m!==(m=e[7].user+"")&&I(o,m),2&t&&f!==(f=e[7].text+"")&&I(c,f)},d(e){e&&h(t)}}}function Ce(e){let t,n,s,l,r,o,i,a,c=e[1],u=[];for(let d=0;d<c.length;d+=1)u[d]=xe(ke(e,c,d));return{c(){t=p("div"),n=p("input"),s=y(),l=p("input"),r=y(),o=p("div");for(let e=0;e<u.length;e+=1)u[e].c();v(n,"type","text"),v(l,"type","button"),l.value="Bağlan",v(o,"class","messages")},m(c,d){g(c,t,d),b(t,n),B(n,e[0]),b(t,s),b(t,l),b(t,r),b(t,o);for(let e=0;e<u.length;e+=1)u[e].m(o,null);i||(a=[m(n,"input",e[4]),m(l,"click",e[3])],i=!0)},p(e,[t]){if(1&t&&n.value!==e[0]&&B(n,e[0]),2&t){let n;for(c=e[1],n=0;n<c.length;n+=1){const s=ke(e,c,n);u[n]?u[n].p(s,t):(u[n]=xe(s),u[n].c(),u[n].m(o,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}},i:f,o:f,d(e){e&&h(t),M(u,e),i=!1,w(a)}}}function Le(e,t,n){let s,l=!1,r="ws://localhost:8000",o=a([]);$(e,o,(e=>n(1,s=e))),z((()=>{}));return[r,s,o,()=>{if(!l){const e=R(r);e.on("connect",(()=>{console.log("Connected to socket server"),e.id,l=!0,console.log("joining room","General"),e.emit("join","General")})),e.on("message",(e=>{console.log("Message received",e),e.date=new Date(e.date),o.update((t=>(t.push(e),t)))})),e.on("messages",(e=>{console.log("Messages received",e);let t=e.messages.map((e=>(e.date=new Date(e.date),e)));o.set(t)}))}},function(){r=this.value,n(0,r)}]}class Ae extends c{constructor(e){super(),u(this,e,Le,Ce,d,{})}}function Se(e){let t,n;return t=new ye({}),{c(){x(t.$$.fragment)},m(e,s){C(t,e,s),n=!0},p:f,i(e){n||(L(t.$$.fragment,e),n=!0)},o(e){A(t.$$.fragment,e),n=!1},d(e){S(t,e)}}}function Ee(e){let t,n,s,l,r,o,i,a,c,u;return t=new X({}),r=new $e({}),{c(){x(t.$$.fragment),n=y(),s=p("input"),l=y(),x(r.$$.fragment),o=y(),i=p("input"),v(s,"type","button"),s.value="Test Push Notification",v(s,"class","svelte-g5dfzm"),v(i,"type","button"),i.value="Çıkış",v(i,"class","svelte-g5dfzm")},m(d,p){C(t,d,p),g(d,n,p),g(d,s,p),g(d,l,p),C(r,d,p),g(d,o,p),g(d,i,p),a=!0,c||(u=[m(s,"click",e[1]),m(i,"click",e[2])],c=!0)},p:f,i(e){a||(L(t.$$.fragment,e),L(r.$$.fragment,e),a=!0)},o(e){A(t.$$.fragment,e),A(r.$$.fragment,e),a=!1},d(e){S(t,e),e&&h(n),e&&h(s),e&&h(l),S(r,e),e&&h(o),e&&h(i),c=!1,w(u)}}}function Pe(e){let t,n,s,l,r,o,i,a,c,u,d,m,f,w;t=new re({}),u=new Ae({});const $=[Ee,Se],k=[];function E(e,t){return e[0]?0:1}return m=E(e),f=k[m]=$[m](e),{c(){x(t.$$.fragment),n=y(),s=p("main"),l=p("div"),l.innerHTML='<img src="../icon/icon192.png" alt="KoopKit Logo"/>',r=y(),o=p("h1"),o.textContent="KoopKit",i=y(),a=p("p"),a.textContent="Kooperatif Destek Kiti",c=y(),x(u.$$.fragment),d=y(),f.c(),v(l,"class","logo svelte-g5dfzm"),v(o,"class","svelte-g5dfzm"),v(a,"class","svelte-g5dfzm"),v(s,"class","svelte-g5dfzm")},m(e,p){C(t,e,p),g(e,n,p),g(e,s,p),b(s,l),b(s,r),b(s,o),b(s,i),b(s,a),b(s,c),C(u,s,null),b(s,d),k[m].m(s,null),w=!0},p(e,[t]){let n=m;m=E(e),m===n?k[m].p(e,t):(O(),A(k[n],1,1,(()=>{k[n]=null})),U(),f=k[m],f?f.p(e,t):(f=k[m]=$[m](e),f.c()),L(f,1),f.m(s,null))},i(e){w||(L(t.$$.fragment,e),L(u.$$.fragment,e),L(f),w=!0)},o(e){A(t.$$.fragment,e),A(u.$$.fragment,e),A(f),w=!1},d(e){S(t,e),e&&h(n),e&&h(s),S(u),k[m].d()}}}function Oe(e,t,n){let s,l,r;var o;$(e,F,(e=>n(4,l=e))),$(e,Z,(e=>n(5,r=e)));const i={body:"Burası bildirim gövdesi!",icon:"icon/icon192.png",badge:"icon/badge.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1}},a=()=>{return(e=()=>import("./notification.js"),t=[],t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in G)return;G[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((e,t)=>{s.addEventListener("load",e),s.addEventListener("error",t)})):void 0}))).then((()=>e())):e()).then((({notification:e})=>e("Hey Selamlar!",i)));var e,t};return e.$$.update=()=>{48&e.$$.dirty&&(console.log(r),console.log(l)),56&e.$$.dirty&&n(0,s=(null===n(3,o=null==r?void 0:r.auth)||void 0===o?void 0:o.currentUser)&&"signed-in"===l.status)},[s,()=>{"granted"==Notification.permission?a():Notification.requestPermission().then((e=>{"granted"===e&&a()})).catch(console.error)},()=>{Z.signOut(),F.logout()},o,l,r]}new class extends c{constructor(e){super(),u(this,e,Oe,Pe,d,{})}}({target:document.getElementById("app")});
