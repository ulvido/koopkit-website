import{f as e,G as t,w as n,S as s,i as o,s as i,e as r,a as l,b as a,l as u,n as c,d,c as p,g,r as m,h as v,j as f,k as h,m as b,t as w,o as y,p as k,q as $,u as C,v as x,x as L,y as A,z as S,A as E}from"./vendor.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const _={};e.initializeApp({apiKey:"AIzaSyD-pzp1xZtmduu3mjWD77pVgGBKhNF1n30",authDomain:"koopkit-c38c2.firebaseapp.com",projectId:"koopkit-c38c2",storageBucket:"koopkit-c38c2.appspot.com",messagingSenderId:"1065077530630",appId:"1:1065077530630:web:165285110dcd11c0446387",measurementId:"G-4TSBJTR9KW"});const N=e.auth(),K=new e.auth.GoogleAuthProvider,P=t(),D=P.user().recall({sessionStorage:!0}),I=(e=>{const{subscribe:t,set:s,update:o}=n(e);return N.onAuthStateChanged((e=>{s(e?{status:"firebase-signed-in",user:e}:{status:"firebase-signed-out",user:null})})),{subscribe:t,set:s,update:o,signIn:()=>(N.languageCode="tr",N.signInWithPopup(K).then((e=>e.user)).catch(console.error)).then((e=>{e&&s({status:"firebase-signed-in",user:e})})).catch(console.error),signOut:()=>N.signOut().then((()=>s({status:"firebase-signed-out",user:null}))).catch(console.error)}})({status:"firebase-unknown",user:null}),U=(e=>{const{subscribe:t,set:s,update:o}=n(e);return D._.sea&&s({status:"gun-signed-in",user:D}),P.on("auth",(()=>{console.log("on auth çalıştı"),s({status:"gun-signed-in",user:D})})),{subscribe:t,set:s,update:o,login:(e,t)=>(async(e,t)=>{console.log("user._",D._);const n=()=>{let s=!1;return console.log("Trying login with pin:",t),D.auth(e,t,(o=>{o.err&&"Wrong user or password."===o.err?D.create(e,t,(e=>{e.err&&"User already created!"===e.err||(e.pub?(console.log("User Not Exists! Now created."),n()):console.log("Unknown error while login!"))})):"User is already being created or authenticated!"===o.err?s=!0:(console.log("başka bi hata var:",o),s=!1)})),s};return n()})(e,t).catch(console.error),logout:()=>(async()=>{D.leave(),setTimeout((()=>{void 0===D._.sea&&console.log("Logged Out")}),200)})().then((()=>s({status:"gun-signed-out",user:null}))).catch(console.error)}})({status:"gun-unknown",user:null});function j(e){let t,n,s;return{c(){t=r("input"),l(t,"type","text"),l(t,"placeholder","epub key")},m(o,i){a(o,t,i),n||(s=u(t,"input",e[7]),n=!0)},p:c,d(e){e&&d(t),n=!1,s()}}}function B(e){let t,n,s,o,i,v,f,h,b,w,y,k,$,C,x,L,A,S=e[2]&&j(e);return{c(){t=r("div"),n=r("textarea"),s=p(),o=r("div"),i=r("label"),i.textContent="Decrypt an incoming message or send an encrypted one:",v=p(),f=r("input"),h=p(),S&&S.c(),b=p(),w=r("div"),y=r("input"),$=p(),C=r("input"),l(n,"rows","4"),l(n,"columns","1"),n.value=e[0],l(i,"for","epubCheck"),l(f,"type","checkbox"),l(f,"name","epubCheck"),l(f,"id","epubCheck"),l(o,"class","outMessage svelte-hx1mv0"),l(y,"type","button"),y.disabled=k=""===e[0],y.value="Encrypt",l(y,"class","svelte-hx1mv0"),l(C,"type","button"),C.disabled=x=""===e[0],C.value="Decrypt",l(C,"class","svelte-hx1mv0"),l(t,"class","wrapper svelte-hx1mv0")},m(r,l){a(r,t,l),g(t,n),g(t,s),g(t,o),g(o,i),g(o,v),g(o,f),g(t,h),S&&S.m(t,null),g(t,b),g(t,w),g(w,y),g(w,$),g(w,C),L||(A=[u(n,"input",e[3]),u(f,"click",e[6]),u(y,"click",e[4]),u(C,"click",e[5])],L=!0)},p(e,[s]){1&s&&(n.value=e[0]),e[2]?S?S.p(e,s):(S=j(e),S.c(),S.m(t,b)):S&&(S.d(1),S=null),1&s&&k!==(k=""===e[0])&&(y.disabled=k),1&s&&x!==(x=""===e[0])&&(C.disabled=x)},i:c,o:c,d(e){e&&d(t),S&&S.d(),L=!1,m(A)}}}function O(e,t,n){let s;v(e,U,(e=>n(9,s=e)));let o="",i="",r="",l=!1;return[o,r,l,e=>{n(0,o=e.target.value),i=o},async e=>{if(console.log("pair",null==s?void 0:s._.sea),l){let e=await SEA.encrypt(o,await SEA.secret(r,null==s?void 0:s._.sea)),t=await SEA.sign(e,null==s?void 0:s._.sea);n(0,o=t)}else{let e=await SEA.encrypt(o,null==s?void 0:s._.sea),t=await SEA.sign(e,null==s?void 0:s._.sea);n(0,o=t)}},async e=>{if(l){let e=await SEA.verify(o,null==s?void 0:s._.sea.pub),t=await SEA.decrypt(e,await SEA.secret(r,null==s?void 0:s._.sea));n(0,o=t)}else{let e=await SEA.verify(o,null==s?void 0:s._.sea.pub),t=await SEA.decrypt(e,null==s?void 0:s._.sea);await SEA.work(t,null==s?void 0:s._.sea)===await SEA.work(i,null==s?void 0:s._.sea)&&n(0,o=t)}},e=>n(2,l=e.target.checked),e=>n(1,r=e.target.value)]}class z extends s{constructor(e){super(),o(this,e,O,B,i,{})}}function R(e){let t,n;return{c(){t=f("svg"),n=f("path"),l(n,"stroke-linecap","round"),l(n,"stroke-linejoin","round"),l(n,"stroke-width","2"),l(n,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),l(t,"width","100%"),l(t,"height","100%"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"xmlns","http://www.w3.org/2000/svg")},m(e,s){a(e,t,s),g(t,n)},p:c,i:c,o:c,d(e){e&&d(t)}}}class M extends s{constructor(e){super(),o(this,e,null,R,i,{})}}function T(e){let t,n,s,o,i,m,v,f,$;return o=new M({}),{c(){t=r("div"),n=r("div"),s=r("div"),h(o.$$.fragment),i=p(),m=r("div"),m.textContent="Bu Cihaza Yükle",l(s,"class","icon svelte-usjklv"),l(m,"class","text svelte-usjklv"),l(n,"class","btn svelte-usjklv"),l(t,"class","wrapper svelte-usjklv")},m(r,l){a(r,t,l),g(t,n),g(n,s),b(o,s,null),g(n,i),g(n,m),v=!0,f||($=u(n,"click",e[2]),f=!0)},p:c,i(e){v||(w(o.$$.fragment,e),v=!0)},o(e){y(o.$$.fragment,e),v=!1},d(e){e&&d(t),k(o),f=!1,$()}}}function G(e){let t,n,s,o,i=e[0]&&T(e);return{c(){i&&i.c(),t=$()},m(r,l){i&&i.m(r,l),a(r,t,l),n=!0,s||(o=[u(window,"beforeinstallprompt",C(e[1])),u(window,"appinstalled",C(e[3]))],s=!0)},p(e,[n]){e[0]?i?(i.p(e,n),1&n&&w(i,1)):(i=T(e),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(x(),y(i,1,1,(()=>{i=null})),L())},i(e){n||(w(i),n=!0)},o(e){y(i),n=!1},d(e){i&&i.d(e),e&&d(t),s=!1,m(o)}}}function V(e,t,n){let s,o=!1;return[o,e=>{s=e,n(0,o=!0)},()=>{n(0,o=!1),s.prompt(),s.userChoice.then((e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),s=null})).catch(console.error)},()=>{s=null,console.log("PWA was installed")}]}class W extends s{constructor(e){super(),o(this,e,V,G,i,{})}}function Z(e){let t,n,s,o,i,r;return{c(){t=f("svg"),n=f("g"),s=f("path"),o=f("path"),i=f("path"),r=f("path"),l(s,"fill","#4285F4"),l(s,"d","M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"),l(o,"fill","#34A853"),l(o,"d","M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"),l(i,"fill","#FBBC05"),l(i,"d","M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"),l(r,"fill","#EA4335"),l(r,"d","M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"),l(n,"transform","matrix(1, 0, 0, 1, 27.009001, -39.238998)"),l(t,"width","100%"),l(t,"height","100%"),l(t,"viewBox","0 0 24 24"),l(t,"fill","none"),l(t,"stroke","none"),l(t,"xmlns","http://www.w3.org/2000/svg")},m(e,l){a(e,t,l),g(t,n),g(n,s),g(n,o),g(n,i),g(n,r)},p:c,i:c,o:c,d(e){e&&d(t)}}}class q extends s{constructor(e){super(),o(this,e,null,Z,i,{})}}function F(e){let t,n,s,o,i,m,v,f;return s=new q({}),{c(){t=r("div"),n=r("div"),h(s.$$.fragment),o=p(),i=r("div"),i.textContent="Google hesabı ile giriş yap",l(n,"class","icon svelte-zvv0mb"),l(i,"class","text svelte-zvv0mb"),l(t,"class","btn svelte-zvv0mb")},m(e,r){a(e,t,r),g(t,n),b(s,n,null),g(t,o),g(t,i),m=!0,v||(f=u(t,"click",I.signIn),v=!0)},p:c,i(e){m||(w(s.$$.fragment,e),m=!0)},o(e){y(s.$$.fragment,e),m=!1},d(e){e&&d(t),k(s),v=!1,f()}}}function H(e){let t,n="gun-signed-in"!==e[1].user&&Y(e);return{c(){n&&n.c(),t=$()},m(e,s){n&&n.m(e,s),a(e,t,s)},p(e,s){"gun-signed-in"!==e[1].user?n?n.p(e,s):(n=Y(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:c,o:c,d(e){n&&n.d(e),e&&d(t)}}}function J(e){let t;return{c(){t=A("...")},m(e,n){a(e,t,n)},p:c,i:c,o:c,d(e){e&&d(t)}}}function Y(e){let t,n,s,o;return{c(){t=A("LÜTFEN PİN GİRİN\r\n      "),n=r("button"),n.textContent="Girdim say"},m(i,r){a(i,t,r),a(i,n,r),s||(o=u(n,"click",e[2]),s=!0)},p:c,d(e){e&&d(t),e&&d(n),s=!1,o()}}}function Q(e){let t,n,s,o;const i=[J,H,F],u=[];function c(e,t){return"firebase-unknown"===e[0].status?0:"firebase-signed-in"===e[0].status?1:"firebase-signed-out"===e[0].status?2:-1}return~(n=c(e))&&(s=u[n]=i[n](e)),{c(){t=r("div"),s&&s.c(),l(t,"class","wrapper svelte-zvv0mb")},m(e,s){a(e,t,s),~n&&u[n].m(t,null),o=!0},p(e,[o]){let r=n;n=c(e),n===r?~n&&u[n].p(e,o):(s&&(x(),y(u[r],1,1,(()=>{u[r]=null})),L()),~n?(s=u[n],s?s.p(e,o):(s=u[n]=i[n](e),s.c()),w(s,1),s.m(t,null)):s=null)},i(e){o||(w(s),o=!0)},o(e){y(s),o=!1},d(e){e&&d(t),~n&&u[n].d()}}}function X(e,t,n){let s,o;v(e,I,(e=>n(0,s=e))),v(e,U,(e=>n(1,o=e)));return[s,o,()=>U.login(s.user.uid,"1234")]}class ee extends s{constructor(e){super(),o(this,e,X,Q,i,{})}}function te(e){var t,n,s,o,i,u,m;let v,f,h,b,w,y,k,$,C,x,L,_,N,K,P,D,I,U,j,B,O,z,R,M,T,G,V,W,Z,q,F,H,J,Y,Q,X,ee,te,ne,se,oe=(null==(t=e[0])?void 0:t.uid)+"",ie=(null==(n=e[0])?void 0:n.displayName)+"",re=(null==(s=e[0])?void 0:s.email)+"",le=(null==(o=e[0])?void 0:o.emailVerified)+"",ae=(null==(i=e[0])?void 0:i.photoURL)+"",ue=(null==(u=e[0])?void 0:u.isAnonymous)+"",ce=JSON.stringify(null==(m=e[0])?void 0:m.providerData)+"";return{c(){var t;v=r("section"),f=r("img"),b=p(),w=r("h1"),w.textContent="Kullanıcı Profili",y=p(),k=r("p"),$=r("b"),$.textContent="uid:",C=p(),x=A(oe),L=p(),_=r("p"),N=r("b"),N.textContent="displayName:",K=p(),P=A(ie),D=p(),I=r("p"),U=r("b"),U.textContent="email:",j=p(),B=A(re),O=p(),z=r("p"),R=r("b"),R.textContent="emailVerified:",M=p(),T=A(le),G=p(),V=r("p"),W=r("b"),W.textContent="photoURL:",Z=p(),q=A(ae),F=p(),H=r("p"),J=r("b"),J.textContent="isAnonymous:",Y=p(),Q=A(ue),X=p(),ee=r("p"),te=r("b"),te.textContent="providerData:",ne=p(),se=A(ce),S(f.src,h=null==(t=e[0])?void 0:t.photoURL)||l(f,"src",h),l(f,"alt","Profil Resmi")},m(e,t){a(e,v,t),g(v,f),g(v,b),g(v,w),g(v,y),g(v,k),g(k,$),g(k,C),g(k,x),g(v,L),g(v,_),g(_,N),g(_,K),g(_,P),g(v,D),g(v,I),g(I,U),g(I,j),g(I,B),g(v,O),g(v,z),g(z,R),g(z,M),g(z,T),g(v,G),g(v,V),g(V,W),g(V,Z),g(V,q),g(v,F),g(v,H),g(H,J),g(H,Y),g(H,Q),g(v,X),g(v,ee),g(ee,te),g(ee,ne),g(ee,se)},p(e,[t]){var n,s,o,i,r,a,u,c;1&t&&!S(f.src,h=null==(n=e[0])?void 0:n.photoURL)&&l(f,"src",h),1&t&&oe!==(oe=(null==(s=e[0])?void 0:s.uid)+"")&&E(x,oe),1&t&&ie!==(ie=(null==(o=e[0])?void 0:o.displayName)+"")&&E(P,ie),1&t&&re!==(re=(null==(i=e[0])?void 0:i.email)+"")&&E(B,re),1&t&&le!==(le=(null==(r=e[0])?void 0:r.emailVerified)+"")&&E(T,le),1&t&&ae!==(ae=(null==(a=e[0])?void 0:a.photoURL)+"")&&E(q,ae),1&t&&ue!==(ue=(null==(u=e[0])?void 0:u.isAnonymous)+"")&&E(Q,ue),1&t&&ce!==(ce=JSON.stringify(null==(c=e[0])?void 0:c.providerData)+"")&&E(se,ce)},i:c,o:c,d(e){e&&d(v)}}}function ne(e,t,n){let s,o;return v(e,I,(e=>n(1,o=e))),e.$$.update=()=>{2&e.$$.dirty&&n(0,s=o.user)},[s,o]}class se extends s{constructor(e){super(),o(this,e,ne,te,i,{})}}function oe(e){let t,n;return t=new ee({}),{c(){h(t.$$.fragment)},m(e,s){b(t,e,s),n=!0},p:c,i(e){n||(w(t.$$.fragment,e),n=!0)},o(e){y(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function ie(e){let t,n,s,o,i,g,v,f,$,C;return t=new z({}),i=new se({}),{c(){h(t.$$.fragment),n=p(),s=r("input"),o=p(),h(i.$$.fragment),g=p(),v=r("input"),l(s,"type","button"),s.value="Test Push Notification",l(s,"class","svelte-1kg8iw1"),l(v,"type","button"),v.value="Çıkış",l(v,"class","svelte-1kg8iw1")},m(r,l){b(t,r,l),a(r,n,l),a(r,s,l),a(r,o,l),b(i,r,l),a(r,g,l),a(r,v,l),f=!0,$||(C=[u(s,"click",e[1]),u(v,"click",e[2])],$=!0)},p:c,i(e){f||(w(t.$$.fragment,e),w(i.$$.fragment,e),f=!0)},o(e){y(t.$$.fragment,e),y(i.$$.fragment,e),f=!1},d(e){k(t,e),e&&d(n),e&&d(s),e&&d(o),k(i,e),e&&d(g),e&&d(v),$=!1,m(C)}}}function re(e){let t,n,s,o,i,u,c,m,v,f,$,C;t=new W({});const A=[ie,oe],S=[];function E(e,t){return e[0]?0:1}return f=E(e),$=S[f]=A[f](e),{c(){h(t.$$.fragment),n=p(),s=r("main"),o=r("div"),o.innerHTML='<img src="../icon/icon192.png" alt="KoopKit Logo"/>',i=p(),u=r("h1"),u.textContent="KoopKit",c=p(),m=r("p"),m.textContent="Kooperatif Destek Kiti",v=p(),$.c(),l(o,"class","logo svelte-1kg8iw1"),l(u,"class","svelte-1kg8iw1"),l(m,"class","svelte-1kg8iw1"),l(s,"class","svelte-1kg8iw1")},m(e,r){b(t,e,r),a(e,n,r),a(e,s,r),g(s,o),g(s,i),g(s,u),g(s,c),g(s,m),g(s,v),S[f].m(s,null),C=!0},p(e,[t]){let n=f;f=E(e),f===n?S[f].p(e,t):(x(),y(S[n],1,1,(()=>{S[n]=null})),L(),$=S[f],$?$.p(e,t):($=S[f]=A[f](e),$.c()),w($,1),$.m(s,null))},i(e){C||(w(t.$$.fragment,e),w($),C=!0)},o(e){y(t.$$.fragment,e),y($),C=!1},d(e){k(t,e),e&&d(n),e&&d(s),S[f].d()}}}function le(e,t,n){let s,o,i;v(e,U,(e=>n(3,o=e))),v(e,I,(e=>n(4,i=e)));const r={body:"Burası bildirim gövdesi!",icon:"icon/icon192.png",badge:"icon/badge.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1}},l=()=>{return(e=()=>import("./notification.js"),t=[],t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/${e}`)in _)return;_[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((e,t)=>{s.addEventListener("load",e),s.addEventListener("error",t)})):void 0}))).then((()=>e())):e()).then((({notification:e})=>e("Hey Selamlar!",r)));var e,t};return e.$$.update=()=>{24&e.$$.dirty&&(console.log(i),console.log(o)),24&e.$$.dirty&&n(0,s="firebase-signed-in"===i.status&&"gun-signed-in"===o.status)},[s,()=>{"granted"==Notification.permission?l():Notification.requestPermission().then((e=>{"granted"===e&&l()})).catch(console.error)},()=>{I.signOut(),U.logout()},o,i]}new class extends s{constructor(e){super(),o(this,e,le,re,i,{})}}({target:document.getElementById("app")});
